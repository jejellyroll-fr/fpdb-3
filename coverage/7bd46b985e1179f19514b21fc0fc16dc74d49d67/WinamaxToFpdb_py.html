<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for WinamaxToFpdb.py: 83.64%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>WinamaxToFpdb.py</b>:
            <span class="pc_cov">83.64%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">379 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">317<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">62<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">2<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="WinamaxSummary_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="WinningSummary_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.10.3">coverage.py v7.10.3</a>,
            created at 2025-08-11 11:42 +0000
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""Winamx poker hand history parser for FPDB."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="com">#    Copyright 2008-2011, Carl Gherardi</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="com">#</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="com">#    This program is free software; you can redistribute it and/or modify</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="com">#    it under the terms of the GNU General Public License as published by</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="com">#    the Free Software Foundation; either version 2 of the License, or</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="com">#    (at your option) any later version.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="com">#</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="com">#    This program is distributed in the hope that it will be useful,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="com">#    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="com">#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="com">#    GNU General Public License for more details.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="com">#</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="com">#    You should have received a copy of the GNU General Public License</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="com">#    along with this program; if not, write to the Free Software</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="com">#    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="com">########################################################################</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="key">import</span> <span class="nam">platform</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="key">import</span> <span class="nam">re</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="key">from</span> <span class="nam">collections</span><span class="op">.</span><span class="nam">abc</span> <span class="key">import</span> <span class="nam">Callable</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="key">from</span> <span class="nam">decimal</span> <span class="key">import</span> <span class="nam">Decimal</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="key">from</span> <span class="nam">re</span> <span class="key">import</span> <span class="nam">Match</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">TYPE_CHECKING</span><span class="op">,</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">ClassVar</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="key">from</span> <span class="nam">HandHistoryConverter</span> <span class="key">import</span> <span class="nam">FpdbHandPartial</span><span class="op">,</span> <span class="nam">FpdbParseError</span><span class="op">,</span> <span class="nam">HandHistoryConverter</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="key">from</span> <span class="nam">loggingFpdb</span> <span class="key">import</span> <span class="nam">get_logger</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc show_exc"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="key">if</span> <span class="nam">TYPE_CHECKING</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc show_exc"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="key">from</span> <span class="nam">Hand</span> <span class="key">import</span> <span class="nam">Hand</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="com"># Winamax HH Format</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="nam">log</span> <span class="op">=</span> <span class="nam">get_logger</span><span class="op">(</span><span class="str">"winamax_parser"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="key">class</span> <span class="nam">Winamax</span><span class="op">(</span><span class="nam">HandHistoryConverter</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="str">"""Parses Winamax poker hand histories for FPDB.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">    This class provides methods to extract game, player, and hand information from Winamax hand history text. It supports parsing various game types, extracting player actions, blinds, community cards, and tournament details, and converting them into a standardized format for further processing.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="nam">EXPECTED_SUMMARY_PARTS</span> <span class="op">=</span> <span class="num">2</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="nam">MIN_PLAYERS</span> <span class="op">=</span> <span class="num">2</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="nam">STUD_HOLE_CARDS_COUNT</span> <span class="op">=</span> <span class="num">3</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="key">def</span> <span class="nam">Trace</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Callable</span><span class="op">[</span><span class="op">...</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="str">"""Decorator that logs function entry and exit for debugging purposes.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t"><span class="str">            A wrapped function that logs entry/exit and preserves original behavior.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="key">def</span> <span class="nam">my_f</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwds</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"entering %s"</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">.</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">            <span class="nam">result</span> <span class="op">=</span> <span class="nam">self</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwds</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"exiting %s"</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">.</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">            <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="nam">my_f</span><span class="op">.</span><span class="nam">__name__</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">.</span><span class="nam">__name__</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="nam">my_f</span><span class="op">.</span><span class="nam">__doc__</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__doc__</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="key">return</span> <span class="nam">my_f</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">    <span class="nam">filter</span> <span class="op">=</span> <span class="str">"Winamax"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="nam">sitename</span> <span class="op">=</span> <span class="str">"Winamax"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">    <span class="nam">filetype</span> <span class="op">=</span> <span class="str">"text"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="nam">codepage</span> <span class="op">=</span> <span class="op">(</span><span class="str">"utf8"</span><span class="op">,</span> <span class="str">"cp1252"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">    <span class="nam">site_id</span> <span class="op">=</span> <span class="num">15</span>  <span class="com"># Needs to match id entry in Sites database</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="nam">mixes</span><span class="op">:</span> <span class="nam">ClassVar</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="str">"8games"</span><span class="op">:</span> <span class="str">"8game"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="str">"10games"</span><span class="op">:</span> <span class="str">"10game"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="str">"horse"</span><span class="op">:</span> <span class="str">"horse"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">    <span class="op">}</span>  <span class="com"># Legal mixed games</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">    <span class="nam">sym</span><span class="op">:</span> <span class="nam">ClassVar</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="str">"USD"</span><span class="op">:</span> <span class="str">r"\$"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="str">"CAD"</span><span class="op">:</span> <span class="str">r"\$"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="str">"T$"</span><span class="op">:</span> <span class="str">""</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">        <span class="str">"EUR"</span><span class="op">:</span> <span class="str">"\xe2\x82\xac|\u20ac"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">        <span class="str">"GBP"</span><span class="op">:</span> <span class="str">"\xa3"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="str">"play"</span><span class="op">:</span> <span class="str">""</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">    <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="com"># ADD Euro, Sterling, etc HERE</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="nam">substitutions</span><span class="op">:</span> <span class="nam">ClassVar</span><span class="op">[</span><span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="str">"LEGAL_ISO"</span><span class="op">:</span> <span class="str">"USD|EUR|GBP|CAD|FPP"</span><span class="op">,</span>  <span class="com"># legal ISO currency codes</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="str">"LS"</span><span class="op">:</span> <span class="str">"\\$|\xe2\x82\xac|\u20ac|"</span><span class="op">,</span>  <span class="com"># legal currency symbols - Euro(cp1252, utf-8)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">    <span class="nam">limits</span><span class="op">:</span> <span class="nam">ClassVar</span><span class="op">[</span><span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span><span class="str">"no limit"</span><span class="op">:</span> <span class="str">"nl"</span><span class="op">,</span> <span class="str">"pot limit"</span><span class="op">:</span> <span class="str">"pl"</span><span class="op">,</span> <span class="str">"fixed limit"</span><span class="op">:</span> <span class="str">"fl"</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="nam">games</span><span class="op">:</span> <span class="nam">ClassVar</span><span class="op">[</span><span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span>  <span class="com"># base, category</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">        <span class="str">"Holdem"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"holdem"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">        <span class="str">"Omaha"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"omahahi"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">        <span class="str">"Omaha5"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"5_omahahi"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">        <span class="str">"5 Card Omaha"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"5_omahahi"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">        <span class="str">"5 Card Omaha Hi/Lo"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"5_omahahi"</span><span class="op">)</span><span class="op">,</span>  <span class="com"># incorrect in file</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">        <span class="str">"Omaha Hi/Lo"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"omahahilo"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">        <span class="str">"Omaha8"</span><span class="op">:</span> <span class="op">(</span><span class="str">"hold"</span><span class="op">,</span> <span class="str">"omahahilo"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">        <span class="str">"7-Card Stud"</span><span class="op">:</span> <span class="op">(</span><span class="str">"stud"</span><span class="op">,</span> <span class="str">"studhi"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">        <span class="str">"7stud"</span><span class="op">:</span> <span class="op">(</span><span class="str">"stud"</span><span class="op">,</span> <span class="str">"studhi"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">        <span class="str">"7-Card Stud Hi/Lo"</span><span class="op">:</span> <span class="op">(</span><span class="str">"stud"</span><span class="op">,</span> <span class="str">"studhilo"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">        <span class="str">"7stud8"</span><span class="op">:</span> <span class="op">(</span><span class="str">"stud"</span><span class="op">,</span> <span class="str">"studhilo"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">        <span class="str">"Razz"</span><span class="op">:</span> <span class="op">(</span><span class="str">"stud"</span><span class="op">,</span> <span class="str">"razz"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">        <span class="str">"2-7 Triple Draw"</span><span class="op">:</span> <span class="op">(</span><span class="str">"draw"</span><span class="op">,</span> <span class="str">"27_3draw"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">        <span class="str">"Lowball27"</span><span class="op">:</span> <span class="op">(</span><span class="str">"draw"</span><span class="op">,</span> <span class="str">"27_3draw"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">    <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">    <span class="com"># Static regexes</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">    <span class="com"># ***** End of hand R5-75443872-57 *****</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="nam">re_identify</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">        <span class="str">r'Winamax\sPoker\s\-\s(CashGame|Go\sFast|HOLD\-UP|ESCAPE|Tournament\s")'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="nam">re_split_hands</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">r"\n\n"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">    <span class="nam">re_hand_info</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t"><span class="str">            \\s*Winamax\\sPoker\\s-\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t"><span class="str">            (?P&lt;RING>(CashGame|Go\\sFast\\s"[^"]+"|HOLD\\-UP\\s"[^"]+"|ESCAPE\\s"[^"]+"))?</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t"><span class="str">            (?P&lt;TOUR>Tournament\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t"><span class="str">            (?P&lt;TOURNAME>.+)?\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t"><span class="str">            buyIn:\\s(?P&lt;BUYIN>(?P&lt;BIAMT>[\\d\\,.]+)({LS})?\\s?\\+?\\s?(?P&lt;BIRAKE>[\\d\\,.]+)({LS})?\\+?(?P&lt;BOUNTY>[{LS}\\d\\.]+)?\\s?(?P&lt;TOUR_ISO>{LEGAL_ISO})?|(?P&lt;FREETICKET>[\\sa-zA-Z]+))?\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t"><span class="str">            (level:\\s(?P&lt;LEVEL>\\d+))?</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t"><span class="str">            .*)?</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t"><span class="str">            \\s-\\sHandId:\\s\\#(?P&lt;HID1>\\d+)-(?P&lt;HID2>\\d+)-(?P&lt;HID3>\\d+)\\s-\\s  # REB says: HID3 is the correct</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t"><span class="str">            # hand number</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t"><span class="str">            (?P&lt;GAME>Holdem|Omaha|Omaha5|Omaha8|5\\sCard\\sOmaha|5\\sCard\\sOmaha\\sHi/Lo|Omaha\\sHi/Lo|7\\-Card\\sStud|7stud|7\\-Card\\sStud\\sHi/Lo|7stud8|Razz|2\\-7\\sTriple\\sDraw|Lowball27)\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t"><span class="str">            (?P&lt;LIMIT>fixed\\slimit|no\\slimit|pot\\slimit)\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t"><span class="str">            \\(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t"><span class="str">            ((({LS})?(?P&lt;ANTE>[.0-9]+)({LS})?)/)?</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t"><span class="str">            (({LS})?(?P&lt;SB>[.0-9]+)({LS})?)/</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t"><span class="str">            (({LS})?(?P&lt;BB>[.0-9]+)({LS})?)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t"><span class="str">            \\)\\s-\\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t"><span class="str">            (?P&lt;DATETIME>.*)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t"><span class="str">            Table:?\\s\'(?P&lt;TABLE>[^(]+)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t"><span class="str">            (.(?P&lt;TOURNO>\\d+).\\#(?P&lt;TABLENO>\\d+))?.*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t"><span class="str">            \'</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t"><span class="str">            \\s(?P&lt;MAXPLAYER>\\d+)\\-max</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t"><span class="str">            \\s(?P&lt;MONEY>\\(real\\smoney\\))?</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t"><span class="str">            """</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">substitutions</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">        <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span> <span class="op">|</span> <span class="nam">re</span><span class="op">.</span><span class="nam">DOTALL</span> <span class="op">|</span> <span class="nam">re</span><span class="op">.</span><span class="nam">VERBOSE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">    <span class="nam">re_tail_split_hands</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">r"\n\s*\n"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">    <span class="nam">re_button</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">r"Seat\s#(?P&lt;BUTTON>\d+)\sis\sthe\sbutton"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">    <span class="nam">re_board</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">r"\[(?P&lt;CARDS>.+)\]"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">    <span class="nam">re_total</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">        <span class="str">r"Total pot (?P&lt;TOTAL>[\.\d]+).*(No rake|Rake (?P&lt;RAKE>[\.\d]+))"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">    <span class="nam">re_mixed</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">r"_(?P&lt;MIXED>10games|8games|horse)_"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t">    <span class="nam">re_hutp</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">        <span class="str">r"Hold\-up\sto\sPot:\stotal\s(({LS})?(?P&lt;AMOUNT>[.0-9]+)({LS})?)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">substitutions</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">        <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span> <span class="op">|</span> <span class="nam">re</span><span class="op">.</span><span class="nam">VERBOSE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">    <span class="nam">re_escape_pot</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">        <span class="str">r"Escape\sto\sPot:\stotal\s(({LS})?(?P&lt;AMOUNT>[.0-9]+)({LS})?)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">substitutions</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">        <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span> <span class="op">|</span> <span class="nam">re</span><span class="op">.</span><span class="nam">VERBOSE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">    <span class="com"># 2010/09/21 03:10:51 UTC</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">    <span class="nam">re_date_time</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">        <span class="str">r"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t"><span class="str">            (?P&lt;Y>[0-9]{4})/</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t"><span class="str">            (?P&lt;M>[0-9]+)/</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t"><span class="str">            (?P&lt;D>[0-9]+)\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t"><span class="str">            (?P&lt;H>[0-9]+):(?P&lt;MIN>[0-9]+):(?P&lt;S>[0-9]+)\s</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t"><span class="str">            UTC</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t"><span class="str">            """</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">        <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span> <span class="op">|</span> <span class="nam">re</span><span class="op">.</span><span class="nam">VERBOSE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">    <span class="com"># Seat 1: some_player (5&#8364;)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">    <span class="com"># Seat 2: some_other_player21 (6.33&#8364;)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">    <span class="com"># Seat 6: I want fold (147894, 29.25&#8364; bounty)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">    <span class="nam">re_player_info</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">        <span class="str">r"Seat\s(?P&lt;SEAT>[0-9]+):\s(?P&lt;PNAME>.*)\s\(({LS})?(?P&lt;CASH>[.0-9]+)({LS})?(,\s({LS})?(?P&lt;BOUNTY>[.0-9]+)({LS})?\sbounty)?\)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">            <span class="op">**</span><span class="nam">substitutions</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">        <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">    <span class="nam">re_player_info_summary</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">        <span class="str">r"Seat\s(?P&lt;SEAT>[0-9]+):\s(?P&lt;PNAME>.+?)\s"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">    <span class="key">def</span> <span class="nam">compilePlayerRegexs</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">        <span class="str">"""Compile player-specific regex patterns based on players in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t"><span class="str">            hand: The Hand object containing player information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">        <span class="nam">players</span> <span class="op">=</span> <span class="op">{</span><span class="nam">player</span><span class="op">[</span><span class="num">1</span><span class="op">]</span> <span class="key">for</span> <span class="nam">player</span> <span class="key">in</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">players</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">players</span> <span class="op">&lt;=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">compiledPlayers</span><span class="op">:</span>  <span class="com"># x &lt;= y means 'x is subset of y'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t">            <span class="com"># we need to recompile the player regexs.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">            <span class="com"># TODO(fpdb): should probably rename re_hero_cards and corresponding method,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t">            <span class="com">#    since they are used to find all cards on lines starting with "Dealt to:"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t">            <span class="com">#    They still identify the hero.</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">compiledPlayers</span> <span class="op">=</span> <span class="nam">players</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t193" href="#t193">193</a></span><span class="t">            <span class="com"># ANTES/BLINDS</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t194" href="#t194">194</a></span><span class="t">            <span class="com"># helander2222 posts blind ($0.25), lopllopl posts blind ($0.50).</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t195" href="#t195">195</a></span><span class="t">            <span class="nam">player_re</span> <span class="op">=</span> <span class="str">"(?P&lt;PNAME>"</span> <span class="op">+</span> <span class="str">"|"</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">map</span><span class="op">(</span><span class="nam">re</span><span class="op">.</span><span class="nam">escape</span><span class="op">,</span> <span class="nam">players</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="str">")"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t196" href="#t196">196</a></span><span class="t">            <span class="nam">subst</span> <span class="op">=</span> <span class="op">{</span><span class="str">"PLYR"</span><span class="op">:</span> <span class="nam">player_re</span><span class="op">,</span> <span class="str">"CUR"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">sym</span><span class="op">[</span><span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">[</span><span class="str">"currency"</span><span class="op">]</span><span class="op">]</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t197" href="#t197">197</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_sb</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t198" href="#t198">198</a></span><span class="t">                <span class="str">r"{PLYR} posts small blind ({CUR})?(?P&lt;SB>[\.0-9]+)({CUR})?(?! out of position)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t199" href="#t199">199</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t200" href="#t200">200</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t201" href="#t201">201</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_bb</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t202" href="#t202">202</a></span><span class="t">                <span class="str">r"{PLYR} posts big blind ({CUR})?(?P&lt;BB>[\.0-9]+)({CUR})?"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t203" href="#t203">203</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t204" href="#t204">204</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t205" href="#t205">205</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_deny_sb</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span><span class="str">"(?P&lt;PNAME>.*) deny SB"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t206" href="#t206">206</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_antes</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t207" href="#t207">207</a></span><span class="t">                <span class="str">r"^{PLYR} posts ante ({CUR})?(?P&lt;ANTE>[\.0-9]+)({CUR})?"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t208" href="#t208">208</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t209" href="#t209">209</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t210" href="#t210">210</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_bring_in</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t211" href="#t211">211</a></span><span class="t">                <span class="str">r"^{PLYR} (brings in|bring\-in) ({CUR})?(?P&lt;BRINGIN>[\.0-9]+)({CUR})?"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t212" href="#t212">212</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t213" href="#t213">213</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t214" href="#t214">214</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_both</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t215" href="#t215">215</a></span><span class="t">                <span class="str">r"(?P&lt;PNAME>.*): posts small \&amp; big blind \( ({CUR})?(?P&lt;SBBB>[\.0-9]+)({CUR})?\)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t216" href="#t216">216</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t217" href="#t217">217</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_dead</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t218" href="#t218">218</a></span><span class="t">                <span class="str">r"(?P&lt;PNAME>.*) posts dead blind \(({CUR})?(?P&lt;DEAD>[\.0-9]+)({CUR})?\)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t219" href="#t219">219</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t220" href="#t220">220</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t221" href="#t221">221</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_second_sb</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t222" href="#t222">222</a></span><span class="t">                <span class="str">r"{PLYR} posts small blind ({CUR})?(?P&lt;SB>[\.0-9]+)({CUR})? out of position"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t223" href="#t223">223</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t224" href="#t224">224</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t225" href="#t225">225</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_hero_cards</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t226" href="#t226">226</a></span><span class="t">                <span class="str">r"Dealt\sto\s{PLYR}(?: \[(?P&lt;OLDCARDS>.+?)\])?( \[(?P&lt;NEWCARDS>.+?)\])"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t227" href="#t227">227</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t228" href="#t228">228</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t229" href="#t229">229</a></span><span class="t">            <span class="com"># no discards action observed yet</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t230" href="#t230">230</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_action</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t231" href="#t231">231</a></span><span class="t">                <span class="str">r"(, )?(?P&lt;PNAME>.*?)(?P&lt;ATYPE> bets| checks| raises| calls| folds| stands\spat)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t232" href="#t232">232</a></span><span class="t">                <span class="str">r"( \-?({CUR})?(?P&lt;BET>[\d\.]+)({CUR})?)?( to ({CUR})?(?P&lt;BETTO>[\d\.]+)({CUR})?)?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t233" href="#t233">233</a></span><span class="t">                <span class="str">r"( and is all-in)?"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t234" href="#t234">234</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t235" href="#t235">235</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_showdown_action</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t236" href="#t236">236</a></span><span class="t">                <span class="str">"(?P&lt;PNAME>[^\\(\\)\n]*) (\\((small blind|big blind|button)\\) )?shows \\[(?P&lt;CARDS>.+)\\]"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t237" href="#t237">237</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t238" href="#t238">238</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t239" href="#t239">239</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_collect_pot</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t240" href="#t240">240</a></span><span class="t">                <span class="str">r"\s*(?P&lt;PNAME>.*)\scollected\s({CUR})?(?P&lt;POT>[\.\d]+)({CUR})?.*"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t241" href="#t241">241</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t242" href="#t242">242</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">re_shown_cards</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">compile</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t243" href="#t243">243</a></span><span class="t">                <span class="str">r"^Seat (?P&lt;SEAT>[0-9]+): {PLYR} (\((small blind|big blind|button)\) )?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t244" href="#t244">244</a></span><span class="t">                <span class="str">r"showed \[(?P&lt;CARDS>.*)\].+? with (?P&lt;STRING>.*)"</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">**</span><span class="nam">subst</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t245" href="#t245">245</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">MULTILINE</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t246" href="#t246">246</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t247" href="#t247">247</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t248" href="#t248">248</a></span><span class="t">    <span class="key">def</span> <span class="nam">readSupportedGames</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t249" href="#t249">249</a></span><span class="t">        <span class="str">"""Returns a list of supported game types for Winamax.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t250" href="#t250">250</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t251" href="#t251">251</a></span><span class="t"><span class="str">        The returned list contains sublists, each representing a supported game type with its format, base, and limit.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t252" href="#t252">252</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t253" href="#t253">253</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t254" href="#t254">254</a></span><span class="t"><span class="str">            list[list[str]]: A list of supported game type specifications.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t255" href="#t255">255</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t256" href="#t256">256</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t257" href="#t257">257</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t258" href="#t258">258</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"nl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t259" href="#t259">259</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"pl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t260" href="#t260">260</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"stud"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t261" href="#t261">261</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t262" href="#t262">262</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"pl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t263" href="#t263">263</a></span><span class="t">            <span class="op">[</span><span class="str">"ring"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"nl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t264" href="#t264">264</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t265" href="#t265">265</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"nl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t266" href="#t266">266</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"hold"</span><span class="op">,</span> <span class="str">"pl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t267" href="#t267">267</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"stud"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t268" href="#t268">268</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"fl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t269" href="#t269">269</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"pl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t270" href="#t270">270</a></span><span class="t">            <span class="op">[</span><span class="str">"tour"</span><span class="op">,</span> <span class="str">"draw"</span><span class="op">,</span> <span class="str">"nl"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t271" href="#t271">271</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t272" href="#t272">272</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t273" href="#t273">273</a></span><span class="t">    <span class="key">def</span> <span class="nam">_log_parse_error</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand_text</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">length</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t274" href="#t274">274</a></span><span class="t">        <span class="str">"""Logs a parsing error message with a snippet of the hand text.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t275" href="#t275">275</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t276" href="#t276">276</a></span><span class="t"><span class="str">        This function helps with debugging by logging the provided error message and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t277" href="#t277">277</a></span><span class="t"><span class="str">        a portion of the hand history text that caused the error.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t278" href="#t278">278</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t279" href="#t279">279</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t280" href="#t280">280</a></span><span class="t"><span class="str">            hand_text (str): The raw hand history text.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t281" href="#t281">281</a></span><span class="t"><span class="str">            length (int): The number of characters from hand_text to include in the log.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t282" href="#t282">282</a></span><span class="t"><span class="str">            message (str): The error message to log.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t283" href="#t283">283</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t284" href="#t284">284</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t285" href="#t285">285</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t286" href="#t286">286</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t287" href="#t287">287</a></span><span class="t">        <span class="nam">tmp</span> <span class="op">=</span> <span class="nam">hand_text</span><span class="op">[</span><span class="op">:</span><span class="nam">length</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t288" href="#t288">288</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">"%s: '%s'"</span><span class="op">,</span> <span class="nam">message</span><span class="op">,</span> <span class="nam">tmp</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t289" href="#t289">289</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t290" href="#t290">290</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_game_type_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mg</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t291" href="#t291">291</a></span><span class="t">        <span class="str">"""Parses and updates the game type information from match groups.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t292" href="#t292">292</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t293" href="#t293">293</a></span><span class="t"><span class="str">        This function examines the match group dictionary to determine if the hand is a tournament or ring game,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t294" href="#t294">294</a></span><span class="t"><span class="str">        and sets the appropriate type and currency in the info dictionary.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t295" href="#t295">295</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t296" href="#t296">296</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t297" href="#t297">297</a></span><span class="t"><span class="str">            mg (dict[str, str]): The match group dictionary from the hand info regex.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t298" href="#t298">298</a></span><span class="t"><span class="str">            info (dict[str, Any]): The dictionary to update with game type information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t299" href="#t299">299</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t300" href="#t300">300</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t301" href="#t301">301</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t302" href="#t302">302</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t303" href="#t303">303</a></span><span class="t">        <span class="key">if</span> <span class="nam">mg</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"TOUR"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t304" href="#t304">304</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"type"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"tour"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t305" href="#t305">305</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"currency"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"T$"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t306" href="#t306">306</a></span><span class="t">        <span class="key">elif</span> <span class="nam">mg</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"RING"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t307" href="#t307">307</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"type"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"ring"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t308" href="#t308">308</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"currency"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"EUR"</span> <span class="key">if</span> <span class="nam">mg</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"MONEY"</span><span class="op">)</span> <span class="key">else</span> <span class="str">"play"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t309" href="#t309">309</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"fast"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"Go Fast"</span> <span class="key">in</span> <span class="nam">mg</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"RING"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t310" href="#t310">310</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t311" href="#t311">311</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_limit_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mg</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">hand_text</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t312" href="#t312">312</a></span><span class="t">        <span class="str">"""Parses and updates the limit type information from match groups.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t313" href="#t313">313</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t314" href="#t314">314</a></span><span class="t"><span class="str">        This function checks the match group dictionary for the limit type and updates the info dictionary accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t315" href="#t315">315</a></span><span class="t"><span class="str">        If the limit type is not recognized, it logs an error and raises an exception.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t316" href="#t316">316</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t317" href="#t317">317</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t318" href="#t318">318</a></span><span class="t"><span class="str">            mg (dict[str, str]): The match group dictionary from the hand info regex.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t319" href="#t319">319</a></span><span class="t"><span class="str">            info (dict[str, Any]): The dictionary to update with limit type information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t320" href="#t320">320</a></span><span class="t"><span class="str">            hand_text (str): The raw hand history text for error logging.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t321" href="#t321">321</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t322" href="#t322">322</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t323" href="#t323">323</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t324" href="#t324">324</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t325" href="#t325">325</a></span><span class="t"><span class="str">        Raises:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t326" href="#t326">326</a></span><span class="t"><span class="str">            FpdbParseError: If the limit type is not found in the supported limits.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t327" href="#t327">327</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t328" href="#t328">328</a></span><span class="t">        <span class="key">if</span> <span class="str">"LIMIT"</span> <span class="key">in</span> <span class="nam">mg</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t329" href="#t329">329</a></span><span class="t">            <span class="key">if</span> <span class="nam">mg</span><span class="op">[</span><span class="str">"LIMIT"</span><span class="op">]</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">limits</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t330" href="#t330">330</a></span><span class="t">                <span class="nam">info</span><span class="op">[</span><span class="str">"limitType"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">limits</span><span class="op">[</span><span class="nam">mg</span><span class="op">[</span><span class="str">"LIMIT"</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t331" href="#t331">331</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t332" href="#t332">332</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">_log_parse_error</span><span class="op">(</span><span class="nam">hand_text</span><span class="op">,</span> <span class="num">100</span><span class="op">,</span> <span class="str">"Limit not found"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t333" href="#t333">333</a></span><span class="t">                <span class="key">raise</span> <span class="nam">FpdbParseError</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t334" href="#t334">334</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t335" href="#t335">335</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_additional_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mg</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t336" href="#t336">336</a></span><span class="t">        <span class="str">"""Parses and updates additional game information from match groups.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t337" href="#t337">337</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t338" href="#t338">338</a></span><span class="t"><span class="str">        This function extracts and sets base game type, category, mix, small blind,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t339" href="#t339">339</a></span><span class="t"><span class="str">        and big blind information in the info dictionary. It also adjusts blind values for fixed limit games as needed.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t340" href="#t340">340</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t341" href="#t341">341</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t342" href="#t342">342</a></span><span class="t"><span class="str">            mg (dict[str, str]): The match group dictionary from the hand info regex.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t343" href="#t343">343</a></span><span class="t"><span class="str">            info (dict[str, Any]): The dictionary to update with additional game information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t344" href="#t344">344</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t345" href="#t345">345</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t346" href="#t346">346</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t347" href="#t347">347</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t348" href="#t348">348</a></span><span class="t">        <span class="key">if</span> <span class="str">"GAME"</span> <span class="key">in</span> <span class="nam">mg</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t349" href="#t349">349</a></span><span class="t">            <span class="op">(</span><span class="nam">info</span><span class="op">[</span><span class="str">"base"</span><span class="op">]</span><span class="op">,</span> <span class="nam">info</span><span class="op">[</span><span class="str">"category"</span><span class="op">]</span><span class="op">)</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">games</span><span class="op">[</span><span class="nam">mg</span><span class="op">[</span><span class="str">"GAME"</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t350" href="#t350">350</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_mixed</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">in_path</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t351" href="#t351">351</a></span><span class="t">            <span class="nam">mixed_game</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">mixes</span><span class="op">[</span><span class="nam">m</span><span class="op">.</span><span class="nam">groupdict</span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="str">"MIXED"</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t352" href="#t352">352</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"mix"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">mixed_game</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t353" href="#t353">353</a></span><span class="t">            <span class="com"># For mixed games, base should be "mixed" and category should be the mixed game type</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t354" href="#t354">354</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"base"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"mixed"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t355" href="#t355">355</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"category"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">mixed_game</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t356" href="#t356">356</a></span><span class="t">        <span class="key">if</span> <span class="str">"SB"</span> <span class="key">in</span> <span class="nam">mg</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t357" href="#t357">357</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"sb"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">mg</span><span class="op">[</span><span class="str">"SB"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t358" href="#t358">358</a></span><span class="t">        <span class="key">if</span> <span class="str">"BB"</span> <span class="key">in</span> <span class="nam">mg</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t359" href="#t359">359</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"bb"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">mg</span><span class="op">[</span><span class="str">"BB"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t360" href="#t360">360</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t361" href="#t361">361</a></span><span class="t">        <span class="key">if</span> <span class="nam">info</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"limitType"</span><span class="op">)</span> <span class="op">==</span> <span class="str">"fl"</span> <span class="key">and</span> <span class="nam">info</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"bb"</span><span class="op">)</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t362" href="#t362">362</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"sb"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="nam">mg</span><span class="op">[</span><span class="str">"SB"</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="num">2</span><span class="op">)</span><span class="op">.</span><span class="nam">quantize</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="str">"0.01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t363" href="#t363">363</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"bb"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="nam">mg</span><span class="op">[</span><span class="str">"SB"</span><span class="op">]</span><span class="op">)</span><span class="op">.</span><span class="nam">quantize</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="str">"0.01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t364" href="#t364">364</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t365" href="#t365">365</a></span><span class="t">    <span class="key">def</span> <span class="nam">determineGameType</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand_text</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t366" href="#t366">366</a></span><span class="t">        <span class="str">"""Inspect the hand_text and return the gametype dict.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t367" href="#t367">367</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t368" href="#t368">368</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t369" href="#t369">369</a></span><span class="t"><span class="str">            hand_text: The raw hand history text to parse</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t370" href="#t370">370</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t371" href="#t371">371</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t372" href="#t372">372</a></span><span class="t"><span class="str">            Dict containing game type information with keys like:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t373" href="#t373">373</a></span><span class="t"><span class="str">            'limitType', 'base', 'category', 'type', 'currency', etc.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t374" href="#t374">374</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t375" href="#t375">375</a></span><span class="t">        <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t376" href="#t376">376</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t377" href="#t377">377</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_hand_info</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand_text</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t378" href="#t378">378</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t379" href="#t379">379</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_log_parse_error</span><span class="op">(</span><span class="nam">hand_text</span><span class="op">,</span> <span class="num">200</span><span class="op">,</span> <span class="str">"determine Game Type failed"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t380" href="#t380">380</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FpdbParseError</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t381" href="#t381">381</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t382" href="#t382">382</a></span><span class="t">        <span class="nam">mg</span> <span class="op">=</span> <span class="nam">m</span><span class="op">.</span><span class="nam">groupdict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t383" href="#t383">383</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t384" href="#t384">384</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_game_type_info</span><span class="op">(</span><span class="nam">mg</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t385" href="#t385">385</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_limit_info</span><span class="op">(</span><span class="nam">mg</span><span class="op">,</span> <span class="nam">info</span><span class="op">,</span> <span class="nam">hand_text</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t386" href="#t386">386</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_additional_info</span><span class="op">(</span><span class="nam">mg</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t387" href="#t387">387</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t388" href="#t388">388</a></span><span class="t">        <span class="key">return</span> <span class="nam">info</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t389" href="#t389">389</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t390" href="#t390">390</a></span><span class="t">    <span class="key">def</span> <span class="nam">readHandInfo</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t391" href="#t391">391</a></span><span class="t">        <span class="str">"""Parse and extract hand information from Winamax hand history text.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t392" href="#t392">392</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t393" href="#t393">393</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t394" href="#t394">394</a></span><span class="t"><span class="str">            hand: Hand object to populate with parsed information including handid,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t395" href="#t395">395</a></span><span class="t"><span class="str">                table name, tournament details, buyin amounts, and timing data.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t396" href="#t396">396</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t397" href="#t397">397</a></span><span class="t"><span class="str">        Raises:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t398" href="#t398">398</a></span><span class="t"><span class="str">            FpdbParseError: If hand info regex matching fails.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t399" href="#t399">399</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t400" href="#t400">400</a></span><span class="t">        <span class="nam">info</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t401" href="#t401">401</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_hand_info</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t402" href="#t402">402</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t403" href="#t403">403</a></span><span class="t">            <span class="nam">tmp</span> <span class="op">=</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">[</span><span class="op">:</span><span class="num">200</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t404" href="#t404">404</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">"read Hand Info failed: '%s'"</span><span class="op">,</span> <span class="nam">tmp</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t405" href="#t405">405</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FpdbParseError</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t406" href="#t406">406</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t407" href="#t407">407</a></span><span class="t">        <span class="nam">info</span> <span class="op">|=</span> <span class="nam">m</span><span class="op">.</span><span class="nam">groupdict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t408" href="#t408">408</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"read Hand Info: %s"</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t409" href="#t409">409</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t410" href="#t410">410</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_process_hand_info_keys</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t411" href="#t411">411</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_detect_lottery_tournaments</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t412" href="#t412">412</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_set_mixed_game_type</span><span class="op">(</span><span class="nam">hand</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t413" href="#t413">413</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t414" href="#t414">414</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_hand_info_keys</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t415" href="#t415">415</a></span><span class="t">        <span class="str">"""Processes and dispatches parsed hand info keys to their respective handlers.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t416" href="#t416">416</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t417" href="#t417">417</a></span><span class="t"><span class="str">        This method iterates over the parsed hand information and calls the appropriate handler function for each key.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t418" href="#t418">418</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t419" href="#t419">419</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t420" href="#t420">420</a></span><span class="t"><span class="str">            hand: The Hand object to update with parsed information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t421" href="#t421">421</a></span><span class="t"><span class="str">            info: Dictionary containing parsed hand information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t422" href="#t422">422</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t423" href="#t423">423</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t424" href="#t424">424</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">value</span> <span class="key">in</span> <span class="nam">info</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t425" href="#t425">425</a></span><span class="t">            <span class="key">if</span> <span class="nam">handler</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_info_handler</span><span class="op">(</span><span class="nam">key</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t426" href="#t426">426</a></span><span class="t">                <span class="nam">handler</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">value</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t427" href="#t427">427</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t428" href="#t428">428</a></span><span class="t">    <span class="key">def</span> <span class="nam">_get_info_handler</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">callable</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t429" href="#t429">429</a></span><span class="t">        <span class="str">"""Returns the handler function for a given hand info key.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t430" href="#t430">430</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t431" href="#t431">431</a></span><span class="t"><span class="str">        This method provides a mapping from parsed hand info keys to their corresponding handler functions.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t432" href="#t432">432</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t433" href="#t433">433</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t434" href="#t434">434</a></span><span class="t"><span class="str">            key: The key from the parsed hand information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t435" href="#t435">435</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t436" href="#t436">436</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t437" href="#t437">437</a></span><span class="t"><span class="str">            callable: The handler function for the given key, or None if not found.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t438" href="#t438">438</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t439" href="#t439">439</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t440" href="#t440">440</a></span><span class="t">        <span class="nam">handlers</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t441" href="#t441">441</a></span><span class="t">            <span class="str">"DATETIME"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_datetime</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">)</span><span class="op">,</span> <span class="com"># noqa: ARG005</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t442" href="#t442">442</a></span><span class="t">            <span class="str">"HID1"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_hand_id</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="nam">i</span><span class="op">)</span><span class="op">,</span> <span class="com"># noqa: ARG005</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t443" href="#t443">443</a></span><span class="t">            <span class="str">"TOURNO"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">setattr</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="str">"tourNo"</span><span class="op">,</span> <span class="nam">v</span><span class="op">)</span><span class="op">,</span> <span class="com"># noqa: ARG005</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t444" href="#t444">444</a></span><span class="t">            <span class="str">"TABLE"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_table_info</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t445" href="#t445">445</a></span><span class="t">            <span class="str">"MAXPLAYER"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">setattr</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="str">"maxseats"</span><span class="op">,</span> <span class="nam">int</span><span class="op">(</span><span class="nam">v</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">v</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span> <span class="com"># noqa: ARG005</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t446" href="#t446">446</a></span><span class="t">            <span class="str">"BUYIN"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_parse_buyin_info</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">)</span> <span class="key">if</span> <span class="nam">i</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"TOURNO"</span><span class="op">)</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t447" href="#t447">447</a></span><span class="t">            <span class="str">"LEVEL"</span><span class="op">:</span> <span class="key">lambda</span> <span class="nam">h</span><span class="op">,</span> <span class="nam">v</span><span class="op">,</span> <span class="nam">i</span><span class="op">:</span> <span class="nam">setattr</span><span class="op">(</span><span class="nam">h</span><span class="op">,</span> <span class="str">"level"</span><span class="op">,</span> <span class="nam">v</span><span class="op">)</span><span class="op">,</span> <span class="com"># noqa: ARG005</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t448" href="#t448">448</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t449" href="#t449">449</a></span><span class="t">        <span class="key">return</span> <span class="nam">handlers</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">key</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t450" href="#t450">450</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t451" href="#t451">451</a></span><span class="t">    <span class="key">def</span> <span class="nam">_set_mixed_game_type</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t452" href="#t452">452</a></span><span class="t">        <span class="str">"""Set mixed game type if this is a mixed game."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t453" href="#t453">453</a></span><span class="t">        <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="str">"gametype"</span><span class="op">)</span> <span class="key">and</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"mix"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t454" href="#t454">454</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">mixed</span> <span class="op">=</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">[</span><span class="str">"mix"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t455" href="#t455">455</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t456" href="#t456">456</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">mixed</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t457" href="#t457">457</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t458" href="#t458">458</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_datetime</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t459" href="#t459">459</a></span><span class="t">        <span class="str">"""Parses and sets the hand's start time from a date-time string.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t460" href="#t460">460</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t461" href="#t461">461</a></span><span class="t"><span class="str">        This function extracts the date and time from the provided string and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t462" href="#t462">462</a></span><span class="t"><span class="str">        sets the hand's startTime attribute in UTC. If parsing fails, a default date is used and a warning is logged.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t463" href="#t463">463</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t464" href="#t464">464</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t465" href="#t465">465</a></span><span class="t"><span class="str">            hand (Hand): The Hand object whose start time will be set.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t466" href="#t466">466</a></span><span class="t"><span class="str">            value (str): The date-time string to parse.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t467" href="#t467">467</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t468" href="#t468">468</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t469" href="#t469">469</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t470" href="#t470">470</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t471" href="#t471">471</a></span><span class="t">        <span class="key">if</span> <span class="nam">a</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_date_time</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">value</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t472" href="#t472">472</a></span><span class="t">            <span class="nam">datetimestr</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t473" href="#t473">473</a></span><span class="t">                <span class="str">f"{a.group('Y')}/{a.group('M')}/{a.group('D')}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t474" href="#t474">474</a></span><span class="t">                <span class="str">f" {a.group('H')}:{a.group('MIN')}:{a.group('S')}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t475" href="#t475">475</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t476" href="#t476">476</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t477" href="#t477">477</a></span><span class="t">            <span class="nam">datetimestr</span> <span class="op">=</span> <span class="str">"2010/Jan/01 01:01:01"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t478" href="#t478">478</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">"DATETIME not matched: '%s'"</span><span class="op">,</span> <span class="nam">value</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t479" href="#t479">479</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">startTime</span> <span class="op">=</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t480" href="#t480">480</a></span><span class="t">            <span class="nam">datetimestr</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t481" href="#t481">481</a></span><span class="t">            <span class="str">"%Y/%m/%d %H:%M:%S"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t482" href="#t482">482</a></span><span class="t">        <span class="op">)</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="nam">tzinfo</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">timezone</span><span class="op">.</span><span class="nam">utc</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t483" href="#t483">483</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t484" href="#t484">484</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_hand_id</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t485" href="#t485">485</a></span><span class="t">        <span class="str">"""Parses and sets the hand's unique identifier from parsed info.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t486" href="#t486">486</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t487" href="#t487">487</a></span><span class="t"><span class="str">        This function constructs the hand ID using the provided info dictionary and assigns it to the hand object.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t488" href="#t488">488</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t489" href="#t489">489</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t490" href="#t490">490</a></span><span class="t"><span class="str">            hand (Hand): The Hand object whose ID will be set.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t491" href="#t491">491</a></span><span class="t"><span class="str">            info (dict): Dictionary containing hand ID components.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t492" href="#t492">492</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t493" href="#t493">493</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t494" href="#t494">494</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t495" href="#t495">495</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t496" href="#t496">496</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">handid</span> <span class="op">=</span> <span class="str">f"{int(info['HID1'][:14])}{int(info['HID2'])}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t497" href="#t497">497</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t498" href="#t498">498</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_table_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t499" href="#t499">499</a></span><span class="t">        <span class="str">"""Parses and sets the table information for the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t500" href="#t500">500</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t501" href="#t501">501</a></span><span class="t"><span class="str">        This function assigns the table name and related properties to the hand object based on the parsed information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t502" href="#t502">502</a></span><span class="t"><span class="str">        It handles special cases for tournament tables and standardizes table naming conventions.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t503" href="#t503">503</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t504" href="#t504">504</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t505" href="#t505">505</a></span><span class="t"><span class="str">            hand (Hand): The Hand object whose table information will be set.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t506" href="#t506">506</a></span><span class="t"><span class="str">            value (str): The table name string to parse.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t507" href="#t507">507</a></span><span class="t"><span class="str">            info (dict): Dictionary containing additional table information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t508" href="#t508">508</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t509" href="#t509">509</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t510" href="#t510">510</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t511" href="#t511">511</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t512" href="#t512">512</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">tablename</span> <span class="op">=</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t513" href="#t513">513</a></span><span class="t">        <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">[</span><span class="str">"type"</span><span class="op">]</span> <span class="op">==</span> <span class="str">"tour"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t514" href="#t514">514</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">tablename</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"TABLENO"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t515" href="#t515">515</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">roundPenny</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t516" href="#t516">516</a></span><span class="t">        <span class="com"># TODO(maintainer): long-term solution for table naming on Winamax.</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t517" href="#t517">517</a></span><span class="t">        <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">tablename</span><span class="op">.</span><span class="nam">endswith</span><span class="op">(</span><span class="str">"No Limit Hold'em"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t518" href="#t518">518</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">tablename</span> <span class="op">=</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">tablename</span><span class="op">[</span><span class="op">:</span> <span class="op">-</span><span class="nam">len</span><span class="op">(</span><span class="str">"No Limit Hold'em"</span><span class="op">)</span><span class="op">]</span> <span class="op">+</span> <span class="str">"NLHE"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t519" href="#t519">519</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t520" href="#t520">520</a></span><span class="t">    <span class="key">def</span> <span class="nam">_determine_buyin_currency</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t521" href="#t521">521</a></span><span class="t">        <span class="str">"""Determines the currency used for the tournament buy-in.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t522" href="#t522">522</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t523" href="#t523">523</a></span><span class="t"><span class="str">        This function inspects the buy-in value and related info</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t524" href="#t524">524</a></span><span class="t"><span class="str">        to identify the appropriate currency code for the tournament.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t525" href="#t525">525</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t526" href="#t526">526</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t527" href="#t527">527</a></span><span class="t"><span class="str">            value (str): The buy-in value string to inspect.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t528" href="#t528">528</a></span><span class="t"><span class="str">            info (dict): Dictionary containing additional tournament information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t529" href="#t529">529</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t530" href="#t530">530</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t531" href="#t531">531</a></span><span class="t"><span class="str">            str: The currency code for the buy-in (e.g., 'USD', 'EUR', 'WIFP', or 'play').</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t532" href="#t532">532</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t533" href="#t533">533</a></span><span class="t">        <span class="key">if</span> <span class="str">"$"</span> <span class="key">in</span> <span class="nam">value</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t534" href="#t534">534</a></span><span class="t">            <span class="key">return</span> <span class="str">"USD"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t535" href="#t535">535</a></span><span class="t">        <span class="key">if</span> <span class="str">"&#8364;"</span> <span class="key">in</span> <span class="nam">value</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t536" href="#t536">536</a></span><span class="t">            <span class="key">return</span> <span class="str">"EUR"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t537" href="#t537">537</a></span><span class="t">        <span class="key">if</span> <span class="str">"FPP"</span> <span class="key">in</span> <span class="nam">value</span> <span class="key">or</span> <span class="str">"Free"</span> <span class="key">in</span> <span class="nam">value</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t538" href="#t538">538</a></span><span class="t">            <span class="key">return</span> <span class="str">"WIFP"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t539" href="#t539">539</a></span><span class="t">        <span class="key">return</span> <span class="str">"EUR"</span> <span class="key">if</span> <span class="nam">info</span><span class="op">[</span><span class="str">"MONEY"</span><span class="op">]</span> <span class="key">else</span> <span class="str">"play"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t540" href="#t540">540</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t541" href="#t541">541</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_bounty_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t542" href="#t542">542</a></span><span class="t">        <span class="str">"""Processes and sets bounty information for tournament hands.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t543" href="#t543">543</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t544" href="#t544">544</a></span><span class="t"><span class="str">        This function updates the hand and info dictionaries to reflect bounty values,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t545" href="#t545">545</a></span><span class="t"><span class="str">        switching fields as needed and setting KO status.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t546" href="#t546">546</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t547" href="#t547">547</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t548" href="#t548">548</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with bounty information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t549" href="#t549">549</a></span><span class="t"><span class="str">            info (dict): Dictionary containing bounty and rake information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t550" href="#t550">550</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t551" href="#t551">551</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t552" href="#t552">552</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t553" href="#t553">553</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t554" href="#t554">554</a></span><span class="t">        <span class="key">if</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t555" href="#t555">555</a></span><span class="t">            <span class="com"># There is a bounty, Which means we need to switch BOUNTY and BIRAKE values</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t556" href="#t556">556</a></span><span class="t">            <span class="nam">tmp</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t557" href="#t557">557</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t558" href="#t558">558</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">tmp</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t559" href="#t559">559</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="str">"$&#8364;"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t560" href="#t560">560</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">koBounty</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="num">100</span> <span class="op">*</span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t561" href="#t561">561</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">isKO</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t562" href="#t562">562</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t563" href="#t563">563</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">isKO</span> <span class="op">=</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t564" href="#t564">564</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t565" href="#t565">565</a></span><span class="t">    <span class="key">def</span> <span class="nam">_parse_buyin_info</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t566" href="#t566">566</a></span><span class="t">        <span class="str">"""Parses and sets the buy-in and fee information for tournament hands.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t567" href="#t567">567</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t568" href="#t568">568</a></span><span class="t"><span class="str">        This function processes the buy-in, fee, and currency details from the provided info dictionary and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t569" href="#t569">569</a></span><span class="t"><span class="str">        updates the hand object accordingly. It handles free tickets, bounty tournaments, and different currency types.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t570" href="#t570">570</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t571" href="#t571">571</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t572" href="#t572">572</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with buy-in and fee information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t573" href="#t573">573</a></span><span class="t"><span class="str">            value (str): The buy-in value string to parse.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t574" href="#t574">574</a></span><span class="t"><span class="str">            info (dict): Dictionary containing buy-in, fee, and bounty information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t575" href="#t575">575</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t576" href="#t576">576</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t577" href="#t577">577</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t578" href="#t578">578</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t579" href="#t579">579</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"info['BUYIN']: %s"</span><span class="op">,</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BUYIN"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t580" href="#t580">580</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"info['BIAMT']: %s"</span><span class="op">,</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t581" href="#t581">581</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"info['BIRAKE']: %s"</span><span class="op">,</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t582" href="#t582">582</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"info['BOUNTY']: %s"</span><span class="op">,</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BOUNTY"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t583" href="#t583">583</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t584" href="#t584">584</a></span><span class="t">        <span class="key">for</span> <span class="nam">k</span> <span class="key">in</span> <span class="op">[</span><span class="str">"BIAMT"</span><span class="op">,</span> <span class="str">"BIRAKE"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t585" href="#t585">585</a></span><span class="t">            <span class="key">if</span> <span class="nam">info</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t586" href="#t586">586</a></span><span class="t">                <span class="nam">info</span><span class="op">[</span><span class="nam">k</span><span class="op">]</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="nam">k</span><span class="op">]</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">","</span><span class="op">,</span> <span class="str">"."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t587" href="#t587">587</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t588" href="#t588">588</a></span><span class="t">        <span class="key">if</span> <span class="nam">info</span><span class="op">[</span><span class="str">"FREETICKET"</span><span class="op">]</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t589" href="#t589">589</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">buyin</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t590" href="#t590">590</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">fee</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t591" href="#t591">591</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">buyinCurrency</span> <span class="op">=</span> <span class="str">"FREE"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t592" href="#t592">592</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t593" href="#t593">593</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">buyinCurrency</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_determine_buyin_currency</span><span class="op">(</span><span class="nam">value</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t594" href="#t594">594</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t595" href="#t595">595</a></span><span class="t">            <span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t596" href="#t596">596</a></span><span class="t">                <span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">"$"</span><span class="op">,</span> <span class="str">""</span><span class="op">)</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">"&#8364;"</span><span class="op">,</span> <span class="str">""</span><span class="op">)</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">"FPP"</span><span class="op">,</span> <span class="str">""</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t597" href="#t597">597</a></span><span class="t">                <span class="key">if</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t598" href="#t598">598</a></span><span class="t">                <span class="key">else</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t599" href="#t599">599</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t600" href="#t600">600</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t601" href="#t601">601</a></span><span class="t">            <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">buyinCurrency</span> <span class="op">!=</span> <span class="str">"WIFP"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t602" href="#t602">602</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">_process_bounty_info</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">info</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t603" href="#t603">603</a></span><span class="t">                <span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="str">"$&#8364;"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t604" href="#t604">604</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t605" href="#t605">605</a></span><span class="t">                <span class="com"># TODO(maintainer): Is this correct? Old code tried to</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t606" href="#t606">606</a></span><span class="t">                <span class="com"># conditionally multiply by 100, but we</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t607" href="#t607">607</a></span><span class="t">                <span class="com"># want hand.buyin in 100ths of</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t608" href="#t608">608</a></span><span class="t">                <span class="com"># dollars/euros (so hand.buyin = 90 for $0.90 BI).</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t609" href="#t609">609</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">buyin</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="num">100</span> <span class="op">*</span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t610" href="#t610">610</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">fee</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="num">100</span> <span class="op">*</span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">info</span><span class="op">[</span><span class="str">"BIRAKE"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t611" href="#t611">611</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t612" href="#t612">612</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">buyin</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="nam">info</span><span class="op">[</span><span class="str">"BIAMT"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t613" href="#t613">613</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">fee</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t614" href="#t614">614</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t615" href="#t615">615</a></span><span class="t">            <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">buyin</span> <span class="op">==</span> <span class="num">0</span> <span class="key">and</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">fee</span> <span class="op">==</span> <span class="num">0</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t616" href="#t616">616</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">buyinCurrency</span> <span class="op">=</span> <span class="str">"FREE"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t617" href="#t617">617</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t618" href="#t618">618</a></span><span class="t">    <span class="key">def</span> <span class="nam">_detect_lottery_tournaments</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">info</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t619" href="#t619">619</a></span><span class="t">        <span class="str">"""Detects and marks lottery-style tournaments such as Expresso.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t620" href="#t620">620</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t621" href="#t621">621</a></span><span class="t"><span class="str">        This function checks the tournament name and updates the hand object to indicate</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t622" href="#t622">622</a></span><span class="t"><span class="str">        if it is a lottery tournament, setting the appropriate attributes.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t623" href="#t623">623</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t624" href="#t624">624</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t625" href="#t625">625</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with lottery tournament information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t626" href="#t626">626</a></span><span class="t"><span class="str">            info (dict): Dictionary containing tournament information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t627" href="#t627">627</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t628" href="#t628">628</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t629" href="#t629">629</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t630" href="#t630">630</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t631" href="#t631">631</a></span><span class="t">        <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">tourNo</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span> <span class="key">and</span> <span class="nam">info</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"TOURNAME"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t632" href="#t632">632</a></span><span class="t">            <span class="nam">tourname</span> <span class="op">=</span> <span class="nam">info</span><span class="op">[</span><span class="str">"TOURNAME"</span><span class="op">]</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="str">'"'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t633" href="#t633">633</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">isLottery</span> <span class="op">=</span> <span class="str">"Expresso"</span> <span class="key">in</span> <span class="nam">tourname</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t634" href="#t634">634</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">tourneyMultiplier</span> <span class="op">=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t635" href="#t635">635</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t636" href="#t636">636</a></span><span class="t">    <span class="key">def</span> <span class="nam">readPlayerStacks</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t637" href="#t637">637</a></span><span class="t">        <span class="str">"""Parse player stacks from hand text.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t638" href="#t638">638</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t639" href="#t639">639</a></span><span class="t"><span class="str">        Splits hand text at summary section and extracts player information</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t640" href="#t640">640</a></span><span class="t"><span class="str">        from the pre-summary section only, as summary may differ if players</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t641" href="#t641">641</a></span><span class="t"><span class="str">        are sitting out.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t642" href="#t642">642</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t643" href="#t643">643</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t644" href="#t644">644</a></span><span class="t"><span class="str">            hand: The Hand object to populate with player information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t645" href="#t645">645</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t646" href="#t646">646</a></span><span class="t"><span class="str">        Raises:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t647" href="#t647">647</a></span><span class="t"><span class="str">            FpdbHandPartial: If hand cannot be split properly or has too few players.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t648" href="#t648">648</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t649" href="#t649">649</a></span><span class="t">        <span class="com"># Split hand text for Winamax, as the players listed in the hh preamble and the summary will differ</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t650" href="#t650">650</a></span><span class="t">        <span class="com"># if someone is sitting out.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t651" href="#t651">651</a></span><span class="t">        <span class="com"># Going to parse both and only add players in the summary.</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t652" href="#t652">652</a></span><span class="t">        <span class="nam">handsplit</span> <span class="op">=</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">"*** SUMMARY ***"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t653" href="#t653">653</a></span><span class="t">        <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">handsplit</span><span class="op">)</span> <span class="op">!=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">EXPECTED_SUMMARY_PARTS</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t654" href="#t654">654</a></span><span class="t">            <span class="nam">msg</span> <span class="op">=</span> <span class="str">f"Hand is not cleanly split into pre and post Summary {hand.handid}."</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t655" href="#t655">655</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FpdbHandPartial</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t656" href="#t656">656</a></span><span class="t">                <span class="nam">msg</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t657" href="#t657">657</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t658" href="#t658">658</a></span><span class="t">        <span class="nam">pre</span> <span class="op">=</span> <span class="nam">handsplit</span><span class="op">[</span><span class="num">0</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t659" href="#t659">659</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_player_info</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">pre</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t660" href="#t660">660</a></span><span class="t">        <span class="nam">plist</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t661" href="#t661">661</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t662" href="#t662">662</a></span><span class="t">        <span class="com"># Get list of players in header.</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t663" href="#t663">663</a></span><span class="t">        <span class="key">for</span> <span class="nam">a</span> <span class="key">in</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t664" href="#t664">664</a></span><span class="t">            <span class="key">if</span> <span class="nam">plist</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">)</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t665" href="#t665">665</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">addPlayer</span><span class="op">(</span><span class="nam">int</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SEAT"</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CASH"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t666" href="#t666">666</a></span><span class="t">                <span class="nam">plist</span><span class="op">[</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="nam">int</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SEAT"</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CASH"</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t667" href="#t667">667</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t668" href="#t668">668</a></span><span class="t">        <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">plist</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="nam">self</span><span class="op">.</span><span class="nam">MIN_PLAYERS</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t669" href="#t669">669</a></span><span class="t">            <span class="nam">msg</span> <span class="op">=</span> <span class="str">f"Less than {self.MIN_PLAYERS} players in hand! {hand.handid}."</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t670" href="#t670">670</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FpdbHandPartial</span><span class="op">(</span><span class="nam">msg</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t671" href="#t671">671</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t672" href="#t672">672</a></span><span class="t">    <span class="key">def</span> <span class="nam">markStreets</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t673" href="#t673">673</a></span><span class="t">        <span class="str">"""Identifies and marks the different streets (betting rounds) in the hand history.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t674" href="#t674">674</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t675" href="#t675">675</a></span><span class="t"><span class="str">        This function uses regular expressions to extract the text for each street</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t676" href="#t676">676</a></span><span class="t"><span class="str">        (such as preflop, flop, turn, river, etc.) based on the game type,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t677" href="#t677">677</a></span><span class="t"><span class="str">        and adds them to the hand object for further parsing.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t678" href="#t678">678</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t679" href="#t679">679</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t680" href="#t680">680</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to populate with street information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t681" href="#t681">681</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t682" href="#t682">682</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t683" href="#t683">683</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t684" href="#t684">684</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t685" href="#t685">685</a></span><span class="t">        <span class="key">if</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">[</span><span class="str">"base"</span><span class="op">]</span> <span class="op">==</span> <span class="str">"hold"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t686" href="#t686">686</a></span><span class="t">            <span class="nam">m</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t687" href="#t687">687</a></span><span class="t">                <span class="str">r"\*\*\* ANTE/BLINDS \*\*\*(?P&lt;PREFLOP>.+(?=\*\*\* FLOP \*\*\*)|.+)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t688" href="#t688">688</a></span><span class="t">                <span class="str">r"(\*\*\* FLOP \*\*\*(?P&lt;FLOP> \[\S\S \S\S \S\S\].+(?=\*\*\* TURN \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t689" href="#t689">689</a></span><span class="t">                <span class="str">r"(\*\*\* TURN \*\*\* \[\S\S \S\S \S\S](?P&lt;TURN>\[\S\S\].+(?=\*\*\* RIVER \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t690" href="#t690">690</a></span><span class="t">                <span class="str">r"(\*\*\* RIVER \*\*\* \[\S\S \S\S \S\S \S\S](?P&lt;RIVER>\[\S\S\].+))?"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t691" href="#t691">691</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t692" href="#t692">692</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">DOTALL</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t693" href="#t693">693</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t694" href="#t694">694</a></span><span class="t">        <span class="key">elif</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">gametype</span><span class="op">[</span><span class="str">"base"</span><span class="op">]</span> <span class="op">==</span> <span class="str">"stud"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t695" href="#t695">695</a></span><span class="t">            <span class="nam">m</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t696" href="#t696">696</a></span><span class="t">                <span class="str">r"\*\*\* ANTE/BLINDS \*\*\*(?P&lt;ANTES>.+(?=\*\*\* (3rd STREET|THIRD) \*\*\*)|.+)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t697" href="#t697">697</a></span><span class="t">                <span class="str">r"(\*\*\* (3rd STREET|THIRD) \*\*\*(?P&lt;THIRD>.+(?=\*\*\* (4th STREET|FOURTH) \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t698" href="#t698">698</a></span><span class="t">                <span class="str">r"(\*\*\* (4th STREET|FOURTH) \*\*\*(?P&lt;FOURTH>.+(?=\*\*\* (5th STREET|FIFTH) \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t699" href="#t699">699</a></span><span class="t">                <span class="str">r"(\*\*\* (5th STREET|FIFTH) \*\*\*(?P&lt;FIFTH>.+(?=\*\*\* (6th STREET|SIXTH) \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t700" href="#t700">700</a></span><span class="t">                <span class="str">r"(\*\*\* (6th STREET|SIXTH) \*\*\*(?P&lt;SIXTH>.+(?=\*\*\* (7th STREET|SEVENTH) \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t701" href="#t701">701</a></span><span class="t">                <span class="str">r"(\*\*\* (7th STREET|SEVENTH) \*\*\*(?P&lt;SEVENTH>.+))?"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t702" href="#t702">702</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t703" href="#t703">703</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">DOTALL</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t704" href="#t704">704</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t705" href="#t705">705</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t706" href="#t706">706</a></span><span class="t">            <span class="nam">m</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t707" href="#t707">707</a></span><span class="t">                <span class="str">r"\*\*\* ANTE/BLINDS \*\*\*(?P&lt;PREDEAL>.+(?=\*\*\* FIRST\-BET \*\*\*)|.+)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t708" href="#t708">708</a></span><span class="t">                <span class="str">r"(\*\*\* FIRST\-BET \*\*\*(?P&lt;DEAL>.+(?=\*\*\* FIRST\-DRAW \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t709" href="#t709">709</a></span><span class="t">                <span class="str">r"(\*\*\* FIRST\-DRAW \*\*\*(?P&lt;DRAWONE>.+(?=\*\*\* SECOND\-DRAW \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t710" href="#t710">710</a></span><span class="t">                <span class="str">r"(\*\*\* SECOND\-DRAW \*\*\*(?P&lt;DRAWTWO>.+(?=\*\*\* THIRD\-DRAW \*\*\*)|.+))?"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t711" href="#t711">711</a></span><span class="t">                <span class="str">r"(\*\*\* THIRD\-DRAW \*\*\*(?P&lt;DRAWTHREE>.+))?"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t712" href="#t712">712</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t713" href="#t713">713</a></span><span class="t">                <span class="nam">re</span><span class="op">.</span><span class="nam">DOTALL</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t714" href="#t714">714</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t715" href="#t715">715</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t716" href="#t716">716</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t717" href="#t717">717</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addStreets</span><span class="op">(</span><span class="nam">m</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t718" href="#t718">718</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"adding street %s"</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="num">0</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t719" href="#t719">719</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"---"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t720" href="#t720">720</a></span><span class="t">        <span class="key">except</span> <span class="op">(</span><span class="nam">AttributeError</span><span class="op">,</span> <span class="nam">TypeError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t721" href="#t721">721</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Failed to add streets. handtext=%s"</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">handtext</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t722" href="#t722">722</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t723" href="#t723">723</a></span><span class="t">    <span class="com"># Needs to return a list in the format</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t724" href="#t724">724</a></span><span class="t">    <span class="com"># ['player1name', 'player2name', ...] where player1name is the sb and player2name is bb,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t725" href="#t725">725</a></span><span class="t">    <span class="com"># addtional players are assumed to post a bb oop</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t726" href="#t726">726</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t727" href="#t727">727</a></span><span class="t">    <span class="key">def</span> <span class="nam">readButton</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t728" href="#t728">728</a></span><span class="t">        <span class="str">"""Parses and sets the dealer button position for the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t729" href="#t729">729</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t730" href="#t730">730</a></span><span class="t"><span class="str">        This function searches the hand text for the button position and updates the hand object accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t731" href="#t731">731</a></span><span class="t"><span class="str">        If the button is not found, it logs an informational message.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t732" href="#t732">732</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t733" href="#t733">733</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t734" href="#t734">734</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with button position information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t735" href="#t735">735</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t736" href="#t736">736</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t737" href="#t737">737</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t738" href="#t738">738</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t739" href="#t739">739</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_button</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t740" href="#t740">740</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">buttonpos</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BUTTON"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t741" href="#t741">741</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"read Button: button on pos %s"</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">buttonpos</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t742" href="#t742">742</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t743" href="#t743">743</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"read Button: not found"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t744" href="#t744">744</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t745" href="#t745">745</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t746" href="#t746">746</a></span><span class="t">    <span class="key">def</span> <span class="nam">readCommunityCards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t747" href="#t747">747</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t748" href="#t748">748</a></span><span class="t">        <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t749" href="#t749">749</a></span><span class="t">        <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t750" href="#t750">750</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t751" href="#t751">751</a></span><span class="t">        <span class="str">"""Parses and sets the community cards for the specified street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t752" href="#t752">752</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t753" href="#t753">753</a></span><span class="t"><span class="str">        This function extracts the community cards from the hand text for the given street and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t754" href="#t754">754</a></span><span class="t"><span class="str">        updates the hand object accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t755" href="#t755">755</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t756" href="#t756">756</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t757" href="#t757">757</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with community cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t758" href="#t758">758</a></span><span class="t"><span class="str">            street (str): The street name (e.g., 'FLOP', 'TURN', 'RIVER').</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t759" href="#t759">759</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t760" href="#t760">760</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t761" href="#t761">761</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t762" href="#t762">762</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t763" href="#t763">763</a></span><span class="t">        <span class="key">if</span> <span class="nam">street</span> <span class="key">in</span> <span class="op">{</span><span class="str">"FLOP"</span><span class="op">,</span> <span class="str">"TURN"</span><span class="op">,</span> <span class="str">"RIVER"</span><span class="op">}</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t764" href="#t764">764</a></span><span class="t">            <span class="com"># a list of streets which get dealt community cards (i.e. all but PREFLOP)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t765" href="#t765">765</a></span><span class="t">            <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_board</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">[</span><span class="nam">street</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t766" href="#t766">766</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">setCommunityCards</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CARDS"</span><span class="op">)</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" "</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t767" href="#t767">767</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t768" href="#t768">768</a></span><span class="t">    <span class="key">def</span> <span class="nam">readBlinds</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t769" href="#t769">769</a></span><span class="t">        <span class="str">"""Parses and sets the blinds posted in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t770" href="#t770">770</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t771" href="#t771">771</a></span><span class="t"><span class="str">        This function extracts small blind, big blind, dead blind,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t772" href="#t772">772</a></span><span class="t"><span class="str">        and second small blind postings from the hand text and updates the hand object accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t773" href="#t773">773</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t774" href="#t774">774</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t775" href="#t775">775</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with blind information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t776" href="#t776">776</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t777" href="#t777">777</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t778" href="#t778">778</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t779" href="#t779">779</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t780" href="#t780">780</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_sb</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t781" href="#t781">781</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t782" href="#t782">782</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="str">"small blind"</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SB"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t783" href="#t783">783</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t784" href="#t784">784</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"No small blind"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t785" href="#t785">785</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t786" href="#t786">786</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t787" href="#t787">787</a></span><span class="t">        <span class="key">for</span> <span class="nam">a</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_bb</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t788" href="#t788">788</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="str">"big blind"</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BB"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t789" href="#t789">789</a></span><span class="t">            <span class="nam">amount</span> <span class="op">=</span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BB"</span><span class="op">)</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">","</span><span class="op">,</span> <span class="str">""</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t790" href="#t790">790</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">lastBet</span><span class="op">[</span><span class="str">"PREFLOP"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">amount</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t791" href="#t791">791</a></span><span class="t">        <span class="key">for</span> <span class="nam">a</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_dead</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t792" href="#t792">792</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t793" href="#t793">793</a></span><span class="t">                <span class="str">"Found dead blind: addBlind(%s, 'secondsb', %s)"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t794" href="#t794">794</a></span><span class="t">                <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"DEAD"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t795" href="#t795">795</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t796" href="#t796">796</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="str">"secondsb"</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"DEAD"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t797" href="#t797">797</a></span><span class="t">        <span class="key">for</span> <span class="nam">a</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_post_second_sb</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t798" href="#t798">798</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t799" href="#t799">799</a></span><span class="t">                <span class="str">"Found dead blind: addBlind(%s, 'secondsb/both', %s, %s)"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t800" href="#t800">800</a></span><span class="t">                <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SB"</span><span class="op">)</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">sb</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t801" href="#t801">801</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t802" href="#t802">802</a></span><span class="t">            <span class="key">if</span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SB"</span><span class="op">)</span><span class="op">)</span> <span class="op">></span> <span class="nam">Decimal</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">sb</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t803" href="#t803">803</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="str">"both"</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SB"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t804" href="#t804">804</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t805" href="#t805">805</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">addBlind</span><span class="op">(</span><span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="str">"secondsb"</span><span class="op">,</span> <span class="nam">a</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"SB"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t806" href="#t806">806</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t807" href="#t807">807</a></span><span class="t">    <span class="key">def</span> <span class="nam">readAntes</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t808" href="#t808">808</a></span><span class="t">        <span class="str">"""Parses and sets the antes posted in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t809" href="#t809">809</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t810" href="#t810">810</a></span><span class="t"><span class="str">        This function extracts ante postings from the hand text and updates the hand object with each player's ante.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t811" href="#t811">811</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t812" href="#t812">812</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t813" href="#t813">813</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with ante information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t814" href="#t814">814</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t815" href="#t815">815</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t816" href="#t816">816</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t817" href="#t817">817</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t818" href="#t818">818</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"reading antes"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t819" href="#t819">819</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_antes</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t820" href="#t820">820</a></span><span class="t">        <span class="key">for</span> <span class="nam">player</span> <span class="key">in</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t821" href="#t821">821</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"hand add Ante(%s,%s)"</span><span class="op">,</span> <span class="nam">player</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">player</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"ANTE"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t822" href="#t822">822</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addAnte</span><span class="op">(</span><span class="nam">player</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">player</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"ANTE"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t823" href="#t823">823</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t824" href="#t824">824</a></span><span class="t">    <span class="key">def</span> <span class="nam">readBringIn</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t825" href="#t825">825</a></span><span class="t">        <span class="str">"""Parses and sets the bring-in bet for stud games.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t826" href="#t826">826</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t827" href="#t827">827</a></span><span class="t"><span class="str">        This function searches the hand text for a bring-in posting and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t828" href="#t828">828</a></span><span class="t"><span class="str">        updates the hand object with the player's bring-in amount if found.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t829" href="#t829">829</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t830" href="#t830">830</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t831" href="#t831">831</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with bring-in information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t832" href="#t832">832</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t833" href="#t833">833</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t834" href="#t834">834</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t835" href="#t835">835</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t836" href="#t836">836</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_bring_in</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">,</span> <span class="nam">re</span><span class="op">.</span><span class="nam">DOTALL</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t837" href="#t837">837</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"read BringIn: %s for %s"</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BRINGIN"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t838" href="#t838">838</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBringIn</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BRINGIN"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t839" href="#t839">839</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t840" href="#t840">840</a></span><span class="t">    <span class="key">def</span> <span class="nam">readSTP</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t841" href="#t841">841</a></span><span class="t">        <span class="str">"""Parses and sets special tournament pot (STP) or bomb pot amounts.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t842" href="#t842">842</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t843" href="#t843">843</a></span><span class="t"><span class="str">        This function searches the hand text for STP or bomb pot amounts and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t844" href="#t844">844</a></span><span class="t"><span class="str">        updates the hand object with the corresponding values.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t845" href="#t845">845</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t846" href="#t846">846</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t847" href="#t847">847</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with STP or bomb pot information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t848" href="#t848">848</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t849" href="#t849">849</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t850" href="#t850">850</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t851" href="#t851">851</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t852" href="#t852">852</a></span><span class="t">        <span class="key">if</span> <span class="nam">m</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_hutp</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t853" href="#t853">853</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addSTP</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"AMOUNT"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t854" href="#t854">854</a></span><span class="t">        <span class="key">elif</span> <span class="nam">m</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_escape_pot</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t855" href="#t855">855</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addSTP</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"AMOUNT"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t856" href="#t856">856</a></span><span class="t">            <span class="com"># Store bomb pot amount in dedicated field</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t857" href="#t857">857</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">bombPot</span> <span class="op">=</span> <span class="nam">int</span><span class="op">(</span><span class="nam">float</span><span class="op">(</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"AMOUNT"</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="num">100</span><span class="op">)</span>  <span class="com"># Convert to cents</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t858" href="#t858">858</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t859" href="#t859">859</a></span><span class="t">    <span class="key">def</span> <span class="nam">readHoleCards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t860" href="#t860">860</a></span><span class="t">        <span class="str">"""Read and parse hole cards for all players from hand history.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t861" href="#t861">861</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t862" href="#t862">862</a></span><span class="t"><span class="str">        Processes hero cards from PREFLOP/DEAL/BLINDSANTES streets and other players'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t863" href="#t863">863</a></span><span class="t"><span class="str">        cards from remaining streets. Handles stud games with special logic for THIRD street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t864" href="#t864">864</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t865" href="#t865">865</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t866" href="#t866">866</a></span><span class="t"><span class="str">            hand: Hand object to add hole cards to</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t867" href="#t867">867</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t868" href="#t868">868</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_process_hero_streets</span><span class="op">(</span><span class="nam">hand</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t869" href="#t869">869</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_process_other_streets</span><span class="op">(</span><span class="nam">hand</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t870" href="#t870">870</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t871" href="#t871">871</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_hero_streets</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t872" href="#t872">872</a></span><span class="t">        <span class="str">"""Processes and adds hero hole cards from the initial streets.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t873" href="#t873">873</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t874" href="#t874">874</a></span><span class="t"><span class="str">        This function iterates through the preflop, deal, and blinds/antes streets</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t875" href="#t875">875</a></span><span class="t"><span class="str">        to extract and assign the hero's hole cards to the hand object.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t876" href="#t876">876</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t877" href="#t877">877</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t878" href="#t878">878</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with hero hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t879" href="#t879">879</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t880" href="#t880">880</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t881" href="#t881">881</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t882" href="#t882">882</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t883" href="#t883">883</a></span><span class="t">        <span class="key">for</span> <span class="nam">street</span> <span class="key">in</span> <span class="op">(</span><span class="str">"PREFLOP"</span><span class="op">,</span> <span class="str">"DEAL"</span><span class="op">,</span> <span class="str">"BLINDSANTES"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t884" href="#t884">884</a></span><span class="t">            <span class="key">if</span> <span class="nam">street</span> <span class="key">in</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t885" href="#t885">885</a></span><span class="t">                <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_hero_cards</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">[</span><span class="nam">street</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t886" href="#t886">886</a></span><span class="t">                <span class="key">for</span> <span class="nam">found</span> <span class="key">in</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t887" href="#t887">887</a></span><span class="t">                    <span class="key">if</span> <span class="nam">newcards</span> <span class="op">:=</span> <span class="op">[</span><span class="nam">c</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">found</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"NEWCARDS"</span><span class="op">)</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" "</span><span class="op">)</span> <span class="key">if</span> <span class="nam">c</span> <span class="op">!=</span> <span class="str">"X"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t888" href="#t888">888</a></span><span class="t">                        <span class="nam">hand</span><span class="op">.</span><span class="nam">hero</span> <span class="op">=</span> <span class="nam">found</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t889" href="#t889">889</a></span><span class="t">                        <span class="nam">self</span><span class="op">.</span><span class="nam">_add_hero_hole_cards</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t890" href="#t890">890</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t891" href="#t891">891</a></span><span class="t">    <span class="key">def</span> <span class="nam">_add_hero_hole_cards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t892" href="#t892">892</a></span><span class="t">        <span class="str">"""Adds the hero's hole cards for a given street to the hand object.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t893" href="#t893">893</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t894" href="#t894">894</a></span><span class="t"><span class="str">        This function updates the hand with the hero's hole cards, marking them as dealt and not shown or mucked.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t895" href="#t895">895</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t896" href="#t896">896</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t897" href="#t897">897</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with hero hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t898" href="#t898">898</a></span><span class="t"><span class="str">            street (str): The street name where the cards are dealt.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t899" href="#t899">899</a></span><span class="t"><span class="str">            newcards (list[str]): The list of new hole cards for the hero.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t900" href="#t900">900</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t901" href="#t901">901</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t902" href="#t902">902</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t903" href="#t903">903</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t904" href="#t904">904</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t905" href="#t905">905</a></span><span class="t">            <span class="str">"DEBUG: %s addHoleCards(%s, %s, %s)"</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">handid</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">hero</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t906" href="#t906">906</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t907" href="#t907">907</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">addHoleCards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t908" href="#t908">908</a></span><span class="t">            <span class="nam">street</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t909" href="#t909">909</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">hero</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t910" href="#t910">910</a></span><span class="t">            <span class="nam">closed</span><span class="op">=</span><span class="nam">newcards</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t911" href="#t911">911</a></span><span class="t">            <span class="nam">shown</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t912" href="#t912">912</a></span><span class="t">            <span class="nam">mucked</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t913" href="#t913">913</a></span><span class="t">            <span class="nam">dealt</span><span class="op">=</span><span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t914" href="#t914">914</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t915" href="#t915">915</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"Hero cards %s: %s"</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">hero</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t916" href="#t916">916</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t917" href="#t917">917</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_other_streets</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t918" href="#t918">918</a></span><span class="t">        <span class="str">"""Processes and adds player hole cards from streets other than the initial ones.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t919" href="#t919">919</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t920" href="#t920">920</a></span><span class="t"><span class="str">        This function iterates through all streets except PREFLOP, DEAL, and BLINDSANTES,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t921" href="#t921">921</a></span><span class="t"><span class="str">        extracting and assigning hole cards for each player found in those streets.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t922" href="#t922">922</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t923" href="#t923">923</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t924" href="#t924">924</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with player hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t925" href="#t925">925</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t926" href="#t926">926</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t927" href="#t927">927</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t928" href="#t928">928</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t929" href="#t929">929</a></span><span class="t">        <span class="key">for</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">text</span> <span class="key">in</span> <span class="nam">list</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t930" href="#t930">930</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">text</span> <span class="key">or</span> <span class="nam">street</span> <span class="key">in</span> <span class="op">(</span><span class="str">"PREFLOP"</span><span class="op">,</span> <span class="str">"DEAL"</span><span class="op">,</span> <span class="str">"BLINDSANTES"</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t931" href="#t931">931</a></span><span class="t">                <span class="key">continue</span>  <span class="com"># already done these</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t932" href="#t932">932</a></span><span class="t">            <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_hero_cards</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">[</span><span class="nam">street</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t933" href="#t933">933</a></span><span class="t">            <span class="key">for</span> <span class="nam">found</span> <span class="key">in</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t934" href="#t934">934</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">_process_player_cards</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">found</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t935" href="#t935">935</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t936" href="#t936">936</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_player_cards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">found</span><span class="op">:</span> <span class="nam">Match</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t937" href="#t937">937</a></span><span class="t">        <span class="str">"""Processes and adds a player's hole cards for a given street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t938" href="#t938">938</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t939" href="#t939">939</a></span><span class="t"><span class="str">        This function extracts new and old cards for a player from the match object and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t940" href="#t940">940</a></span><span class="t"><span class="str">        updates the hand object accordingly, handling special logic for stud games on the THIRD street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t941" href="#t941">941</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t942" href="#t942">942</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t943" href="#t943">943</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with player hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t944" href="#t944">944</a></span><span class="t"><span class="str">            street (str): The street name where the cards are dealt.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t945" href="#t945">945</a></span><span class="t"><span class="str">            found: The regex match object containing player and card information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t946" href="#t946">946</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t947" href="#t947">947</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t948" href="#t948">948</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t949" href="#t949">949</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t950" href="#t950">950</a></span><span class="t">        <span class="nam">player</span> <span class="op">=</span> <span class="nam">found</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t951" href="#t951">951</a></span><span class="t">        <span class="nam">newcards</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extract_cards</span><span class="op">(</span><span class="nam">found</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"NEWCARDS"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t952" href="#t952">952</a></span><span class="t">        <span class="nam">oldcards</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extract_cards</span><span class="op">(</span><span class="nam">found</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"OLDCARDS"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t953" href="#t953">953</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t954" href="#t954">954</a></span><span class="t">        <span class="key">if</span> <span class="nam">street</span> <span class="op">==</span> <span class="str">"THIRD"</span> <span class="key">and</span> <span class="nam">len</span><span class="op">(</span><span class="nam">newcards</span><span class="op">)</span> <span class="op">==</span> <span class="nam">self</span><span class="op">.</span><span class="nam">STUD_HOLE_CARDS_COUNT</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t955" href="#t955">955</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_add_stud_hero_cards</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">player</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t956" href="#t956">956</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t957" href="#t957">957</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_add_regular_hole_cards</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">player</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">,</span> <span class="nam">oldcards</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t958" href="#t958">958</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t959" href="#t959">959</a></span><span class="t">    <span class="key">def</span> <span class="nam">_extract_cards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">cards_str</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t960" href="#t960">960</a></span><span class="t">        <span class="str">"""Extracts a list of valid card strings from the input.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t961" href="#t961">961</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t962" href="#t962">962</a></span><span class="t"><span class="str">        This function splits the input string into individual cards, filtering out any placeholder values such as 'X'.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t963" href="#t963">963</a></span><span class="t"><span class="str">        If the input is None, it returns an empty list.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t964" href="#t964">964</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t965" href="#t965">965</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t966" href="#t966">966</a></span><span class="t"><span class="str">            cards_str (str | None): The string containing card values separated by spaces.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t967" href="#t967">967</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t968" href="#t968">968</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t969" href="#t969">969</a></span><span class="t"><span class="str">            list[str]: A list of valid card strings.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t970" href="#t970">970</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t971" href="#t971">971</a></span><span class="t">        <span class="key">if</span> <span class="nam">cards_str</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t972" href="#t972">972</a></span><span class="t">            <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t973" href="#t973">973</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">c</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">cards_str</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" "</span><span class="op">)</span> <span class="key">if</span> <span class="nam">c</span> <span class="op">!=</span> <span class="str">"X"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t974" href="#t974">974</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t975" href="#t975">975</a></span><span class="t">    <span class="key">def</span> <span class="nam">_add_stud_hero_cards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">player</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t976" href="#t976">976</a></span><span class="t">        <span class="str">"""Adds the hero's hole cards for stud games on the THIRD street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t977" href="#t977">977</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t978" href="#t978">978</a></span><span class="t"><span class="str">        This function sets the hero, marks the player as dealt,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t979" href="#t979">979</a></span><span class="t"><span class="str">        and adds the appropriate closed and open cards for stud games.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t980" href="#t980">980</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t981" href="#t981">981</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t982" href="#t982">982</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with hero hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t983" href="#t983">983</a></span><span class="t"><span class="str">            street (str): The street name where the cards are dealt.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t984" href="#t984">984</a></span><span class="t"><span class="str">            player (str): The player's name.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t985" href="#t985">985</a></span><span class="t"><span class="str">            newcards (list[str]): The list of new hole cards for the hero.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t986" href="#t986">986</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t987" href="#t987">987</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t988" href="#t988">988</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t989" href="#t989">989</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t990" href="#t990">990</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">hero</span> <span class="op">=</span> <span class="nam">player</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t991" href="#t991">991</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">dealt</span><span class="op">.</span><span class="nam">add</span><span class="op">(</span><span class="nam">player</span><span class="op">)</span>  <span class="com"># need this for stud??</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t992" href="#t992">992</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">addHoleCards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t993" href="#t993">993</a></span><span class="t">            <span class="nam">street</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t994" href="#t994">994</a></span><span class="t">            <span class="nam">player</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t995" href="#t995">995</a></span><span class="t">            <span class="nam">closed</span><span class="op">=</span><span class="nam">newcards</span><span class="op">[</span><span class="op">:</span><span class="num">2</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t996" href="#t996">996</a></span><span class="t">            <span class="nam">open</span><span class="op">=</span><span class="op">[</span><span class="nam">newcards</span><span class="op">[</span><span class="num">2</span><span class="op">]</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t997" href="#t997">997</a></span><span class="t">            <span class="nam">shown</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t998" href="#t998">998</a></span><span class="t">            <span class="nam">mucked</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t999" href="#t999">999</a></span><span class="t">            <span class="nam">dealt</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1000" href="#t1000">1000</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1001" href="#t1001">1001</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1002" href="#t1002">1002</a></span><span class="t">    <span class="key">def</span> <span class="nam">_add_regular_hole_cards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1003" href="#t1003">1003</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">player</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">newcards</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">oldcards</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1004" href="#t1004">1004</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1005" href="#t1005">1005</a></span><span class="t">        <span class="str">"""Adds a player's regular hole cards for a given street to the hand object.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1006" href="#t1006">1006</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1007" href="#t1007">1007</a></span><span class="t"><span class="str">        This function updates the hand with the player's open and closed hole cards for the specified street,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1008" href="#t1008">1008</a></span><span class="t"><span class="str">        marking them as not shown, not mucked, and not dealt.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1009" href="#t1009">1009</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1010" href="#t1010">1010</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1011" href="#t1011">1011</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with player hole cards.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1012" href="#t1012">1012</a></span><span class="t"><span class="str">            street (str): The street name where the cards are dealt.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1013" href="#t1013">1013</a></span><span class="t"><span class="str">            player (str): The player's name.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1014" href="#t1014">1014</a></span><span class="t"><span class="str">            newcards (list[str]): The list of new open cards for the player.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1015" href="#t1015">1015</a></span><span class="t"><span class="str">            oldcards (list[str]): The list of closed cards for the player.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1016" href="#t1016">1016</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1017" href="#t1017">1017</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1018" href="#t1018">1018</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1019" href="#t1019">1019</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1020" href="#t1020">1020</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">addHoleCards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1021" href="#t1021">1021</a></span><span class="t">            <span class="nam">street</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1022" href="#t1022">1022</a></span><span class="t">            <span class="nam">player</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1023" href="#t1023">1023</a></span><span class="t">            <span class="nam">open</span><span class="op">=</span><span class="nam">newcards</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1024" href="#t1024">1024</a></span><span class="t">            <span class="nam">closed</span><span class="op">=</span><span class="nam">oldcards</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1025" href="#t1025">1025</a></span><span class="t">            <span class="nam">shown</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1026" href="#t1026">1026</a></span><span class="t">            <span class="nam">mucked</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1027" href="#t1027">1027</a></span><span class="t">            <span class="nam">dealt</span><span class="op">=</span><span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1028" href="#t1028">1028</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1029" href="#t1029">1029</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1030" href="#t1030">1030</a></span><span class="t">    <span class="key">def</span> <span class="nam">readAction</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1031" href="#t1031">1031</a></span><span class="t">        <span class="str">"""Parses and processes all player actions for a given street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1032" href="#t1032">1032</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1033" href="#t1033">1033</a></span><span class="t"><span class="str">        This function iterates through the actions in the specified street, determines the action type and player,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1034" href="#t1034">1034</a></span><span class="t"><span class="str">        and delegates processing to the appropriate handler.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1035" href="#t1035">1035</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1036" href="#t1036">1036</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1037" href="#t1037">1037</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with action information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1038" href="#t1038">1038</a></span><span class="t"><span class="str">            street (str): The street name to parse actions for.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1039" href="#t1039">1039</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1040" href="#t1040">1040</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1041" href="#t1041">1041</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1042" href="#t1042">1042</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1043" href="#t1043">1043</a></span><span class="t">        <span class="nam">streetsplit</span> <span class="op">=</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">streets</span><span class="op">[</span><span class="nam">street</span><span class="op">]</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">"*** SUMMARY ***"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1044" href="#t1044">1044</a></span><span class="t">        <span class="nam">m</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_action</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">streetsplit</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1045" href="#t1045">1045</a></span><span class="t">        <span class="key">for</span> <span class="nam">action</span> <span class="key">in</span> <span class="nam">m</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1046" href="#t1046">1046</a></span><span class="t">            <span class="nam">acts</span> <span class="op">=</span> <span class="nam">action</span><span class="op">.</span><span class="nam">groupdict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1047" href="#t1047">1047</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"read actions: acts: %s"</span><span class="op">,</span> <span class="nam">acts</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1048" href="#t1048">1048</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1049" href="#t1049">1049</a></span><span class="t">            <span class="nam">action_type</span> <span class="op">=</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"ATYPE"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1050" href="#t1050">1050</a></span><span class="t">            <span class="nam">player_name</span> <span class="op">=</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1051" href="#t1051">1051</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1052" href="#t1052">1052</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_process_action</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">action_type</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1053" href="#t1053">1053</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1054" href="#t1054">1054</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"Processed %s"</span><span class="op">,</span> <span class="nam">acts</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1055" href="#t1055">1055</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"committed %s"</span><span class="op">,</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">pot</span><span class="op">.</span><span class="nam">committed</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1056" href="#t1056">1056</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1057" href="#t1057">1057</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_action</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1058" href="#t1058">1058</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">action_type</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">action</span><span class="op">:</span> <span class="nam">Match</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1059" href="#t1059">1059</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1060" href="#t1060">1060</a></span><span class="t">        <span class="str">"""Processes a single player action for a given street.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1061" href="#t1061">1061</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1062" href="#t1062">1062</a></span><span class="t"><span class="str">        This function determines the type of action (fold, check, call, raise, bet, discard, or stand pat) and</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1063" href="#t1063">1063</a></span><span class="t"><span class="str">        updates the hand object accordingly. If the action type is not recognized, it logs an error.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1064" href="#t1064">1064</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1065" href="#t1065">1065</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1066" href="#t1066">1066</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with the action.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1067" href="#t1067">1067</a></span><span class="t"><span class="str">            street (str): The street name where the action occurs.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1068" href="#t1068">1068</a></span><span class="t"><span class="str">            action_type (str): The type of action performed.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1069" href="#t1069">1069</a></span><span class="t"><span class="str">            player_name (str): The name of the player performing the action.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1070" href="#t1070">1070</a></span><span class="t"><span class="str">            action: The regex match object containing action details.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1071" href="#t1071">1071</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1072" href="#t1072">1072</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1073" href="#t1073">1073</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1074" href="#t1074">1074</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1075" href="#t1075">1075</a></span><span class="t">        <span class="key">if</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" folds"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1076" href="#t1076">1076</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addFold</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1077" href="#t1077">1077</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" checks"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1078" href="#t1078">1078</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addCheck</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1079" href="#t1079">1079</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" calls"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1080" href="#t1080">1080</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addCall</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BET"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1081" href="#t1081">1081</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" raises"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1082" href="#t1082">1082</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_process_raise_action</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1083" href="#t1083">1083</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" bets"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1084" href="#t1084">1084</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_process_bet_action</span><span class="op">(</span><span class="nam">hand</span><span class="op">,</span> <span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1085" href="#t1085">1085</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" discards"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1086" href="#t1086">1086</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addDiscard</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1087" href="#t1087">1087</a></span><span class="t">                <span class="nam">street</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1088" href="#t1088">1088</a></span><span class="t">                <span class="nam">player_name</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1089" href="#t1089">1089</a></span><span class="t">                <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BET"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1090" href="#t1090">1090</a></span><span class="t">                <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"DISCARDED"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1091" href="#t1091">1091</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1092" href="#t1092">1092</a></span><span class="t">        <span class="key">elif</span> <span class="nam">action_type</span> <span class="op">==</span> <span class="str">" stands pat"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1093" href="#t1093">1093</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addStandsPat</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1094" href="#t1094">1094</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1095" href="#t1095">1095</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1096" href="#t1096">1096</a></span><span class="t">                <span class="str">"Unimplemented readAction: '%s' '%s'"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1097" href="#t1097">1097</a></span><span class="t">                <span class="nam">player_name</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1098" href="#t1098">1098</a></span><span class="t">                <span class="nam">action_type</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1099" href="#t1099">1099</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1100" href="#t1100">1100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1101" href="#t1101">1101</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_raise_action</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">action</span><span class="op">:</span> <span class="nam">Match</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1102" href="#t1102">1102</a></span><span class="t">        <span class="str">"""Processes a raise action for a given street and player.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1103" href="#t1103">1103</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1104" href="#t1104">1104</a></span><span class="t"><span class="str">        This function checks for a bring-in amount and adds it to the raise-to amount if present,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1105" href="#t1105">1105</a></span><span class="t"><span class="str">        then updates the hand object with the correct raise information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1106" href="#t1106">1106</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1107" href="#t1107">1107</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1108" href="#t1108">1108</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with the raise action.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1109" href="#t1109">1109</a></span><span class="t"><span class="str">            street (str): The street name where the raise occurs.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1110" href="#t1110">1110</a></span><span class="t"><span class="str">            player_name (str): The name of the player performing the raise.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1111" href="#t1111">1111</a></span><span class="t"><span class="str">            action: The regex match object containing raise details.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1112" href="#t1112">1112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1113" href="#t1113">1113</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1114" href="#t1114">1114</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1115" href="#t1115">1115</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1116" href="#t1116">1116</a></span><span class="t">        <span class="key">if</span> <span class="nam">bringin</span> <span class="op">:=</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1117" href="#t1117">1117</a></span><span class="t">            <span class="nam">act</span><span class="op">[</span><span class="num">2</span><span class="op">]</span> <span class="key">for</span> <span class="nam">act</span> <span class="key">in</span> <span class="nam">hand</span><span class="op">.</span><span class="nam">actions</span><span class="op">[</span><span class="nam">street</span><span class="op">]</span> <span class="key">if</span> <span class="nam">act</span><span class="op">[</span><span class="num">0</span><span class="op">]</span> <span class="op">==</span> <span class="nam">player_name</span> <span class="key">and</span> <span class="nam">act</span><span class="op">[</span><span class="num">1</span><span class="op">]</span> <span class="op">==</span> <span class="str">"bringin"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1118" href="#t1118">1118</a></span><span class="t">        <span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1119" href="#t1119">1119</a></span><span class="t">            <span class="nam">betto</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">Decimal</span><span class="op">(</span><span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BETTO"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="nam">bringin</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1120" href="#t1120">1120</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1121" href="#t1121">1121</a></span><span class="t">            <span class="nam">betto</span> <span class="op">=</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BETTO"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1122" href="#t1122">1122</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">addRaiseTo</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">betto</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1123" href="#t1123">1123</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1124" href="#t1124">1124</a></span><span class="t">    <span class="key">def</span> <span class="nam">_process_bet_action</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">,</span> <span class="nam">street</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">action</span><span class="op">:</span> <span class="nam">re</span><span class="op">.</span><span class="nam">Match</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1125" href="#t1125">1125</a></span><span class="t">        <span class="str">"""Processes a bet action for a given street and player.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1126" href="#t1126">1126</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1127" href="#t1127">1127</a></span><span class="t"><span class="str">        This function determines whether the bet should be treated as a raise or a standard bet based on the street,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1128" href="#t1128">1128</a></span><span class="t"><span class="str">        and updates the hand object accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1129" href="#t1129">1129</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1130" href="#t1130">1130</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1131" href="#t1131">1131</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with the bet action.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1132" href="#t1132">1132</a></span><span class="t"><span class="str">            street (str): The street name where the bet occurs.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1133" href="#t1133">1133</a></span><span class="t"><span class="str">            player_name (str): The name of the player making the bet.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1134" href="#t1134">1134</a></span><span class="t"><span class="str">            action (re.Match[str]): The regex match object containing bet details.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1135" href="#t1135">1135</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1136" href="#t1136">1136</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1137" href="#t1137">1137</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1138" href="#t1138">1138</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1139" href="#t1139">1139</a></span><span class="t">        <span class="key">if</span> <span class="nam">street</span> <span class="key">in</span> <span class="op">{</span><span class="str">"PREFLOP"</span><span class="op">,</span> <span class="str">"DEAL"</span><span class="op">,</span> <span class="str">"THIRD"</span><span class="op">,</span> <span class="str">"BLINDSANTES"</span><span class="op">}</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1140" href="#t1140">1140</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addRaiseBy</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BET"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1141" href="#t1141">1141</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1142" href="#t1142">1142</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addBet</span><span class="op">(</span><span class="nam">street</span><span class="op">,</span> <span class="nam">player_name</span><span class="op">,</span> <span class="nam">action</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"BET"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1143" href="#t1143">1143</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1144" href="#t1144">1144</a></span><span class="t">    <span class="key">def</span> <span class="nam">readShowdownActions</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1145" href="#t1145">1145</a></span><span class="t">        <span class="str">"""Parses and processes all showdown actions in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1146" href="#t1146">1146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1147" href="#t1147">1147</a></span><span class="t"><span class="str">        This function extracts shown cards for each player at showdown and updates the hand object accordingly.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1148" href="#t1148">1148</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1149" href="#t1149">1149</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1150" href="#t1150">1150</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with showdown actions.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1151" href="#t1151">1151</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1152" href="#t1152">1152</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1153" href="#t1153">1153</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1154" href="#t1154">1154</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1155" href="#t1155">1155</a></span><span class="t">        <span class="key">for</span> <span class="nam">shows</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_showdown_action</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1156" href="#t1156">1156</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"add show actions %s"</span><span class="op">,</span> <span class="nam">shows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1157" href="#t1157">1157</a></span><span class="t">            <span class="nam">cards</span> <span class="op">=</span> <span class="nam">shows</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CARDS"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1158" href="#t1158">1158</a></span><span class="t">            <span class="nam">cards</span> <span class="op">=</span> <span class="nam">cards</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" "</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1159" href="#t1159">1159</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"add Shown Cards(%s, %s)"</span><span class="op">,</span> <span class="nam">cards</span><span class="op">,</span> <span class="nam">shows</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1160" href="#t1160">1160</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addShownCards</span><span class="op">(</span><span class="nam">cards</span><span class="op">,</span> <span class="nam">shows</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1161" href="#t1161">1161</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1162" href="#t1162">1162</a></span><span class="t">    <span class="key">def</span> <span class="nam">readCollectPot</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1163" href="#t1163">1163</a></span><span class="t">        <span class="str">"""Parses and processes all pot collection actions in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1164" href="#t1164">1164</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1165" href="#t1165">1165</a></span><span class="t"><span class="str">        This function identifies players who collect pots and updates the hand object with the collected amounts.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1166" href="#t1166">1166</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1167" href="#t1167">1167</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1168" href="#t1168">1168</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with pot collection actions.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1169" href="#t1169">1169</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1170" href="#t1170">1170</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1171" href="#t1171">1171</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1172" href="#t1172">1172</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1173" href="#t1173">1173</a></span><span class="t">        <span class="nam">hand</span><span class="op">.</span><span class="nam">setUncalledBets</span><span class="op">(</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1174" href="#t1174">1174</a></span><span class="t">        <span class="key">for</span> <span class="nam">m</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_collect_pot</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1175" href="#t1175">1175</a></span><span class="t">            <span class="nam">hand</span><span class="op">.</span><span class="nam">addCollectPot</span><span class="op">(</span><span class="nam">player</span><span class="op">=</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">pot</span><span class="op">=</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"POT"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1176" href="#t1176">1176</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1177" href="#t1177">1177</a></span><span class="t">    <span class="key">def</span> <span class="nam">readShownCards</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1178" href="#t1178">1178</a></span><span class="t">        <span class="str">"""Parses and processes all shown cards in the hand.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1179" href="#t1179">1179</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1180" href="#t1180">1180</a></span><span class="t"><span class="str">        This function extracts shown cards for each player from the hand text and updates the hand object,</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1181" href="#t1181">1181</a></span><span class="t"><span class="str">        marking cards as shown and not mucked.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1182" href="#t1182">1182</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1183" href="#t1183">1183</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1184" href="#t1184">1184</a></span><span class="t"><span class="str">            hand (Hand): The Hand object to update with shown card information.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1185" href="#t1185">1185</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1186" href="#t1186">1186</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1187" href="#t1187">1187</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1188" href="#t1188">1188</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1189" href="#t1189">1189</a></span><span class="t">        <span class="key">for</span> <span class="nam">m</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">re_shown_cards</span><span class="op">.</span><span class="nam">finditer</span><span class="op">(</span><span class="nam">hand</span><span class="op">.</span><span class="nam">handText</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1190" href="#t1190">1190</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"Read shown cards: %s"</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="num">0</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1191" href="#t1191">1191</a></span><span class="t">            <span class="nam">cards</span> <span class="op">=</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CARDS"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1192" href="#t1192">1192</a></span><span class="t">            <span class="nam">cards</span> <span class="op">=</span> <span class="nam">cards</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1193" href="#t1193">1193</a></span><span class="t">                <span class="str">" "</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1194" href="#t1194">1194</a></span><span class="t">            <span class="op">)</span>  <span class="com"># needs to be a list, not a set--stud needs the order</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1195" href="#t1195">1195</a></span><span class="t">            <span class="op">(</span><span class="nam">shown</span><span class="op">,</span> <span class="nam">mucked</span><span class="op">)</span> <span class="op">=</span> <span class="op">(</span><span class="key">False</span><span class="op">,</span> <span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1196" href="#t1196">1196</a></span><span class="t">            <span class="key">if</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"CARDS"</span><span class="op">)</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1197" href="#t1197">1197</a></span><span class="t">                <span class="nam">shown</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1198" href="#t1198">1198</a></span><span class="t">                <span class="nam">string</span> <span class="op">=</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"STRING"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1199" href="#t1199">1199</a></span><span class="t">                <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"%s %s %s %s"</span><span class="op">,</span> <span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span> <span class="nam">cards</span><span class="op">,</span> <span class="nam">shown</span><span class="op">,</span> <span class="nam">mucked</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1200" href="#t1200">1200</a></span><span class="t">                <span class="nam">hand</span><span class="op">.</span><span class="nam">addShownCards</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1201" href="#t1201">1201</a></span><span class="t">                    <span class="nam">cards</span><span class="op">=</span><span class="nam">cards</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1202" href="#t1202">1202</a></span><span class="t">                    <span class="nam">player</span><span class="op">=</span><span class="nam">m</span><span class="op">.</span><span class="nam">group</span><span class="op">(</span><span class="str">"PNAME"</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1203" href="#t1203">1203</a></span><span class="t">                    <span class="nam">shown</span><span class="op">=</span><span class="nam">shown</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1204" href="#t1204">1204</a></span><span class="t">                    <span class="nam">mucked</span><span class="op">=</span><span class="nam">mucked</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1205" href="#t1205">1205</a></span><span class="t">                    <span class="nam">string</span><span class="op">=</span><span class="nam">string</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t1206" href="#t1206">1206</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1207" href="#t1207">1207</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1208" href="#t1208">1208</a></span><span class="t">    <span class="key">def</span> <span class="nam">readSummaryInfo</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">summary_info_list</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>  <span class="com"># noqa: ARG002</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1209" href="#t1209">1209</a></span><span class="t">        <span class="str">"""Implement the abstract method from HandHistoryConverter."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1210" href="#t1210">1210</a></span><span class="t">        <span class="com"># Add the actual implementation here, or use a placeholder if not needed</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1211" href="#t1211">1211</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Reading summary info for Winamax."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1212" href="#t1212">1212</a></span><span class="t">        <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1213" href="#t1213">1213</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1214" href="#t1214">1214</a></span><span class="t">    <span class="key">def</span> <span class="nam">readTourneyResults</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>  <span class="com"># noqa: ARG002</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1215" href="#t1215">1215</a></span><span class="t">        <span class="str">"""Implement the abstract method from HandHistoryConverter."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1216" href="#t1216">1216</a></span><span class="t">        <span class="com"># Add the actual implementation here, or use a placeholder if not needed</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1217" href="#t1217">1217</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Reading tournay result info for Winamax."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1218" href="#t1218">1218</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1219" href="#t1219">1219</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1220" href="#t1220">1220</a></span><span class="t">    <span class="key">def</span> <span class="nam">getTableTitleRe</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1221" href="#t1221">1221</a></span><span class="t">        <span class="nam">_game_type</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1222" href="#t1222">1222</a></span><span class="t">        <span class="nam">table_name</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1223" href="#t1223">1223</a></span><span class="t">        <span class="nam">tournament</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1224" href="#t1224">1224</a></span><span class="t">        <span class="nam">table_number</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1225" href="#t1225">1225</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1226" href="#t1226">1226</a></span><span class="t">        <span class="str">"""Generate regex pattern for matching Winamax table titles.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1227" href="#t1227">1227</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1228" href="#t1228">1228</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1229" href="#t1229">1229</a></span><span class="t"><span class="str">            game_type: Type of game (unused but kept for compatibility)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1230" href="#t1230">1230</a></span><span class="t"><span class="str">            table_name: Name of the table</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1231" href="#t1231">1231</a></span><span class="t"><span class="str">            tournament: Tournament identifier</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1232" href="#t1232">1232</a></span><span class="t"><span class="str">            table_number: Table number for tournaments</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1233" href="#t1233">1233</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1234" href="#t1234">1234</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1235" href="#t1235">1235</a></span><span class="t"><span class="str">            Compiled regex pattern string for matching table titles</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1236" href="#t1236">1236</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1237" href="#t1237">1237</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1238" href="#t1238">1238</a></span><span class="t">            <span class="str">"Winamax.getTableTitleRe: table_name='%s' tournament='%s' table_number='%s'"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1239" href="#t1239">1239</a></span><span class="t">            <span class="nam">table_name</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1240" href="#t1240">1240</a></span><span class="t">            <span class="nam">tournament</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1241" href="#t1241">1241</a></span><span class="t">            <span class="nam">table_number</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="run run2"><span class="n"><a id="t1242" href="#t1242">1242</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1243" href="#t1243">1243</a></span><span class="t">        <span class="nam">sys_platform</span> <span class="op">=</span> <span class="nam">platform</span><span class="op">.</span><span class="nam">system</span><span class="op">(</span><span class="op">)</span>  <span class="com"># Linux, Windows, Darwin</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1244" href="#t1244">1244</a></span><span class="t">        <span class="com"># Use word boundaries to prevent partial matches (e.g., "Casablanca" matching "Casablanca 02")</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1245" href="#t1245">1245</a></span><span class="t">        <span class="key">if</span> <span class="nam">sys_platform</span><span class="op">[</span><span class="op">:</span><span class="num">5</span><span class="op">]</span> <span class="op">==</span> <span class="str">"Linux"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1246" href="#t1246">1246</a></span><span class="t">            <span class="nam">regex</span> <span class="op">=</span> <span class="str">rf"^Winamax {re.escape(table_name or '')}(\s|$)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1247" href="#t1247">1247</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t1248" href="#t1248">1248</a></span><span class="t">            <span class="nam">regex</span> <span class="op">=</span> <span class="str">rf"^Winamax {re.escape(table_name or '')} /"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1249" href="#t1249">1249</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"regex get table cash title: %s"</span><span class="op">,</span> <span class="nam">regex</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1250" href="#t1250">1250</a></span><span class="t">        <span class="key">if</span> <span class="nam">tournament</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1251" href="#t1251">1251</a></span><span class="t">            <span class="nam">regex</span> <span class="op">=</span> <span class="str">rf"Winamax\s+([^\(]+)\({tournament}\)\(#0*{table_number}\)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1252" href="#t1252">1252</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1253" href="#t1253">1253</a></span><span class="t">            <span class="nam">log</span><span class="op">.</span><span class="nam">debug</span><span class="op">(</span><span class="str">"regex get mtt sng expresso cash title: %s"</span><span class="op">,</span> <span class="nam">regex</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1254" href="#t1254">1254</a></span><span class="t">        <span class="nam">log</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Winamax.getTableTitleRe: returns: '%s'"</span><span class="op">,</span> <span class="nam">regex</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1255" href="#t1255">1255</a></span><span class="t">        <span class="key">return</span> <span class="nam">regex</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1256" href="#t1256">1256</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t1257" href="#t1257">1257</a></span><span class="t">    <span class="key">def</span> <span class="nam">readOther</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">hand</span><span class="op">:</span> <span class="str">"Hand"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1258" href="#t1258">1258</a></span><span class="t">        <span class="str">"""Read other information from hand that doesn't fit standard categories.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1259" href="#t1259">1259</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1260" href="#t1260">1260</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1261" href="#t1261">1261</a></span><span class="t"><span class="str">            hand: The Hand object to read other information from.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1262" href="#t1262">1262</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1263" href="#t1263">1263</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1264" href="#t1264">1264</a></span><span class="t"><span class="str">            None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1265" href="#t1265">1265</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t1266" href="#t1266">1266</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="WinamaxSummary_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="WinningSummary_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.10.3">coverage.py v7.10.3</a>,
            created at 2025-08-11 11:42 +0000
        </p>
    </div>
</footer>
</body>
</html>
